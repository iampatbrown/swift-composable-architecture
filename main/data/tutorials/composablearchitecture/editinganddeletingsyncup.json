{"hierarchy":{"modules":[{"projects":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/WhatIsSyncUps","sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/WhatIsSyncUps#A-tour-of-SyncUps","kind":"task"},{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/WhatIsSyncUps#Create-the-SyncUps-project"}]}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/What-is-SyncUps-"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Lists-of-sync-ups","projects":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ListsOfSyncUps","sections":[{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ListsOfSyncUps#Domain-models"},{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ListsOfSyncUps#SyncUpsList-feature"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ListsOfSyncUps#A-handy-debugging-tool","kind":"task"}]},{"sections":[{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingListOfSyncUps#Writing-your-first-test"}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingListOfSyncUps"}]},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/New-sync-up-form","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpForm#Sync-up-form-basics"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpForm#Form-focus-an-approach","kind":"task"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpForm#Form-focus-a-better-approach","kind":"task"}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpForm"},{"sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpForm#Removing-attendees","kind":"task"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpForm#Adding-attendees","kind":"task"}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpForm"}]},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Presenting-the-sync-up-form","projects":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PresentingSyncUpForm","sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PresentingSyncUpForm#Integrating-the-feature-domains-together","kind":"task"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PresentingSyncUpForm#Integrating-the-feature-views-together","kind":"task"},{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PresentingSyncUpForm#Adding-a-new-sync-up-to-the-list"}]},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpFormPresentation","sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpFormPresentation#Adding-a-sync-up","kind":"task"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpFormPresentation#Non-exhaustive-testing","kind":"task"}]}]},{"projects":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PersistingSyncUps","sections":[{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PersistingSyncUps#Persisting-data-to-disk"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PersistingSyncUps#Testing-persistence","kind":"task"}]}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Persisting-sync-ups-to-disk"},{"projects":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetail","sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetail#Create-the-sync-up-detail","kind":"task"}]},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/EditingAndDeletingSyncUp","sections":[{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/EditingAndDeletingSyncUp#Editing-the-sync-up"},{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/EditingAndDeletingSyncUp#Deleting-the-sync-up"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/EditingAndDeletingSyncUp#More-concise-domain-modeling","kind":"task"}]},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpDetail","sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpDetail#Testing-the-edit-flow","kind":"task"}]}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Sync-up-detail"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Navigating-to-sync-up-detail","projects":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetailNavigation","sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetailNavigation#Creating-the-app-feature","kind":"task"},{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetailNavigation#Creating-the-app-view"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetailNavigation#Navigating-to-the-detail","kind":"task"}]},{"sections":[{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/MeetingNavigation#The-meeting-screen"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/MeetingNavigation#Navigate-to-a-meeting","kind":"task"}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/MeetingNavigation"},{"sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingNavigation#Deleting-a-sync-up","kind":"task"}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingNavigation"}]},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Record-meeting","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/RecordMeetingFeature#Create-a-new-feature"},{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/RecordMeetingFeature#Navigating-to-the-record-meeting-feature"}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/RecordMeetingFeature"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer","sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer#A-basic-timer","kind":"task"},{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer#Controlling-dependencies-early"},{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer#Ending-the-meeting-early","kind":"task"},{"kind":"task","reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer#Testing-the-timer"}]},{"sections":[{"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingSpeechRecognizer#Asking-for-speech-recognition-permission","kind":"task"}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingSpeechRecognizer"}]}],"reference":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps","paths":[["doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps","doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/$volume","doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Sync-up-detail"]]},"schemaVersion":{"minor":3,"patch":0,"major":0},"variants":[{"paths":["\/tutorials\/composablearchitecture\/editinganddeletingsyncup"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"category":"Building SyncUps","title":"Editing and deleting a sync-up","categoryPathComponent":"BuildingSyncUps","role":"project"},"kind":"project","sections":[{"kind":"hero","title":"Editing and deleting a sync-up","estimatedTimeInMinutes":30,"chapter":"Sync-up detail","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Let’s implement two major pieces of functionality in the detail screen: editing the sync-up and"},{"text":" ","type":"text"},{"text":"deleting the sync-up. This will force us to face a number of common problems in app development","type":"text"},{"type":"text","text":" "},{"type":"text","text":"all at once, including view reuse, navigation, alerts, and parent-child communication patterns."}]}]},{"tasks":[{"anchor":"Editing-the-sync-up","contentSection":[{"media":"EditingAndDeletingSyncUp-01-cover-480p.mov","mediaPosition":"trailing","kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"To edit the sync-up we will reuse the "},{"code":"SyncUpFormView","type":"codeVoice"},{"type":"text","text":" that we previously used for "},{"inlineContent":[{"text":"adding","type":"text"}],"type":"emphasis"},{"type":"text","text":" a"},{"text":" ","type":"text"},{"type":"text","text":"sync-up. This will allow us to see how easy it is to reuse features in the Composable"},{"type":"text","text":" "},{"text":"Architecture, and it will allow us to explore how to communicate from the child feature","type":"text"},{"type":"text","text":" "},{"type":"text","text":"back to the parent."}]}]}],"title":"Editing the sync-up","stepsSection":[{"inlineContent":[{"text":"We want to present the ","type":"text"},{"type":"codeVoice","code":"SyncUpFormView"},{"type":"text","text":" from the "},{"type":"codeVoice","code":"SyncUpDetailView"},{"type":"text","text":" in a sheet, and so we will"},{"type":"text","text":" "},{"type":"text","text":"need to use the presentation tools of the library just as we did in the "},{"type":"codeVoice","code":"SyncUpListsView"},{"type":"text","text":"."}],"type":"paragraph"},{"caption":[{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"We have collapsed the code in the ","type":"text"},{"type":"codeVoice","code":"SyncUpDetailView"},{"type":"text","text":" for now."}]}]}],"type":"step","media":null,"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Go to the SyncUpDetail.swift file and update the "},{"code":"State","type":"codeVoice"},{"type":"text","text":" of the feature so that it holds on"},{"type":"text","text":" "},{"type":"text","text":"to an optional piece of "},{"type":"codeVoice","code":"SyncUpForm.State"},{"text":" using the ","type":"text"},{"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Presents()","isActive":true,"type":"reference"},{"type":"text","text":" "},{"text":"macro. When the state is non-","type":"text"},{"type":"codeVoice","code":"nil"},{"type":"text","text":" the sheet will be presented, and when it is "},{"type":"codeVoice","code":"nil"},{"type":"text","text":" it will"},{"type":"text","text":" "},{"type":"text","text":"be dismissed."}]}],"code":"EditingAndDeletingSyncUp-01-code-0001.swift"},{"media":null,"type":"step","code":"EditingAndDeletingSyncUp-01-code-0002.swift","runtimePreview":null,"caption":[],"content":[{"type":"paragraph","inlineContent":[{"text":"Add a case to the ","type":"text"},{"type":"codeVoice","code":"Action"},{"text":" enum to represent the","type":"text"},{"text":" ","type":"text"},{"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PresentationAction","type":"reference","isActive":true},{"type":"text","text":" of the "},{"type":"codeVoice","code":"SyncUpForm"},{"text":".","type":"text"}]}]},{"runtimePreview":null,"caption":[],"media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Integrate the "},{"code":"SyncUpForm","type":"codeVoice"},{"type":"text","text":" reducer into the "},{"type":"codeVoice","code":"SyncUpDetail"},{"type":"text","text":" reducer by using the"},{"type":"text","text":" "},{"isActive":true,"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Reducer\/ifLet(_:action:destination:fileID:filePath:line:column:)-4ub6q","type":"reference"},{"type":"text","text":" "},{"text":"operator.","type":"text"}]}],"type":"step","code":"EditingAndDeletingSyncUp-01-code-0003.swift"},{"inlineContent":[{"text":"The domains of the child and parent features are now fully integrated together. We can now","type":"text"},{"text":" ","type":"text"},{"text":"implement the logic that causes the edit sheet to be presented.","type":"text"}],"type":"paragraph"},{"caption":[],"type":"step","content":[{"inlineContent":[{"text":"When the “Edit” button is tapped we can populate the ","type":"text"},{"type":"codeVoice","code":"editSyncUp"},{"type":"text","text":" state to represent the"},{"text":" ","type":"text"},{"type":"text","text":"sheet should be presented. We can pass along the local "},{"type":"codeVoice","code":"syncUp"},{"text":" value to the ","type":"text"},{"type":"codeVoice","code":"SyncUpForm"},{"text":" so","type":"text"},{"type":"text","text":" "},{"text":"that it has the freshest data to edit.","type":"text"}],"type":"paragraph"}],"media":null,"code":"EditingAndDeletingSyncUp-01-code-0004.swift","runtimePreview":null},{"inlineContent":[{"type":"text","text":"That is the basics of presenting the “Edit sync-up” sheet from the sync-up detail view. There"},{"type":"text","text":" "},{"text":"will be more to do in this reducer in a moment, but we can leave it here for now and","type":"text"},{"type":"text","text":" "},{"type":"text","text":"concentrate on the view layer for a moment."}],"type":"paragraph"},{"caption":[{"type":"aside","content":[{"inlineContent":[{"type":"text","text":"We have collapsed the implementation of the "},{"type":"codeVoice","code":"SyncUpDetail"},{"type":"text","text":" reducer in this snippet."}],"type":"paragraph"}],"name":"Note","style":"note"}],"media":null,"type":"step","code":"EditingAndDeletingSyncUp-01-code-0005.swift","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Update the "},{"type":"codeVoice","code":"store"},{"type":"text","text":" property in the view to be "},{"type":"codeVoice","code":"@Bindable"},{"type":"text","text":" since we will need to derive"},{"type":"text","text":" "},{"text":"bindings from the store for driving navigation from state.","type":"text"}]}]},{"runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"At the very bottom of the view use the "},{"code":"sheet(item:)","type":"codeVoice"},{"type":"text","text":" modifier by deriving a binding to the"},{"type":"text","text":" "},{"code":"SyncUpForm","type":"codeVoice"},{"text":" domain using ","type":"text"},{"code":"SwiftUI\/Binding\/scope(state:action:fileID:filePath:line:column:)","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"}],"type":"step","caption":[],"media":null,"code":"EditingAndDeletingSyncUp-01-code-0006.swift"},{"content":[{"inlineContent":[{"type":"text","text":"Provide a navigation title and toolbar buttons to the sheet for saving and cancelling the"},{"text":" ","type":"text"},{"type":"text","text":"edits made to the sync-up."}],"type":"paragraph"}],"runtimePreview":null,"code":"EditingAndDeletingSyncUp-01-code-0007.swift","type":"step","media":null,"caption":[{"name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Just as we did in the "},{"type":"codeVoice","code":"SyncUpsListView"},{"type":"text","text":", we decided to keep the navigation"},{"text":" ","type":"text"},{"text":"customizations (title and toolbar) in the parent domain rather than the child. This has","type":"text"},{"type":"text","text":" "},{"text":"allowed us to provide domain specific versions of this UI for creating a new sync-up","type":"text"},{"type":"text","text":" "},{"type":"text","text":"versus editing an existing sync-up."}]}],"type":"aside","style":"note"}]},{"runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Send actions to the store when each of the toolbar buttons is tapped.","type":"text"}]}],"media":null,"caption":[{"style":"note","content":[{"inlineContent":[{"type":"text","text":"These actions do not exist yet. We will be creating them next."}],"type":"paragraph"}],"type":"aside","name":"Note"}],"code":"EditingAndDeletingSyncUp-01-code-0008.swift"},{"inlineContent":[{"type":"text","text":"We have now finished integrating the "},{"type":"codeVoice","code":"SyncUpForm"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"SyncUpDetail"},{"type":"text","text":" at the view layer, and so"},{"text":" ","type":"text"},{"text":"all that is left is to finish integrating the features at the reducer level.","type":"text"}],"type":"paragraph"},{"runtimePreview":null,"media":null,"type":"step","caption":[],"content":[{"inlineContent":[{"text":"Add the new cases to the ","type":"text"},{"type":"codeVoice","code":"Action"},{"type":"text","text":" enum that are being sent from the view."}],"type":"paragraph"}],"code":"EditingAndDeletingSyncUp-01-code-0009.swift"},{"media":null,"code":"EditingAndDeletingSyncUp-01-code-0010.swift","runtimePreview":null,"caption":[{"name":"Note","content":[{"inlineContent":[{"text":"Any changes the ","type":"text"},{"type":"codeVoice","code":"SyncUpForm"},{"text":" made to its local ","type":"text"},{"type":"codeVoice","code":"syncUp"},{"text":" state will be discarded","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"because that state is fully disconnected from the "},{"code":"syncUp","type":"codeVoice"},{"type":"text","text":" held in the "},{"type":"codeVoice","code":"SyncUpDetail"},{"text":".","type":"text"}],"type":"paragraph"}],"type":"aside","style":"note"}],"content":[{"type":"paragraph","inlineContent":[{"text":"Implement the ","type":"text"},{"type":"codeVoice","code":"cancelEditButtonTapped"},{"text":" action by simply clearing out the ","type":"text"},{"code":"editSyncUp","type":"codeVoice"},{"text":" state.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This will cause the view to dismiss the sheet."}]}],"type":"step"},{"type":"step","media":null,"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement the "},{"type":"codeVoice","code":"doneEditingButtonTapped"},{"type":"text","text":" action by grabbing the latest "},{"code":"syncUp","type":"codeVoice"},{"type":"text","text":" value from"},{"type":"text","text":" "},{"text":"the ","type":"text"},{"code":"editSyncUp","type":"codeVoice"},{"text":" state, and replacing ","type":"text"},{"type":"codeVoice","code":"SyncUpDetail"},{"text":"’s state with that value.","type":"text"}]}],"caption":[],"code":"EditingAndDeletingSyncUp-01-code-0011.swift"},{"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Run the preview to see that you can tap the “Edit” button to bring up the sync-up form","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"sheet. Then make some changes to the sync-up, and see that tapping “Done” causes those"},{"type":"text","text":" "},{"text":"changes to be committed to the sync-up in the detail screen.","type":"text"}]}],"caption":[],"code":null,"media":"EditingAndDeletingSyncUp-01-cover-480p.mov","type":"step"}]},{"anchor":"Deleting-the-sync-up","title":"Deleting the sync-up","contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Next we will implement the logic for deleting the sync-up from the detail screen. Because","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"deletion is performed by a simple button, we want to protect from accidental deletions by"},{"type":"text","text":" "},{"text":"asking the user for confirmation using an alert. This will give us an opportunity to explore","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"how one can show alerts in the Composable Architecture."}]}],"mediaPosition":"trailing","kind":"contentAndMedia","media":"EditingAndDeletingSyncUp-02-cover-480p.mov"}],"stepsSection":[{"inlineContent":[{"type":"text","text":"Technically, alerts can be shown in Composable Architecture features in exactly the same way"},{"text":" ","type":"text"},{"text":"they are in vanilla SwiftUI by using the various ","type":"text"},{"type":"codeVoice","code":"alert"},{"type":"text","text":" view modifiers. However, the library"},{"type":"text","text":" "},{"text":"comes with some tools that can improve how alerts are shown, and can make the alerts more","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"easily testable. We will use those tools."}],"type":"paragraph"},{"code":"EditingAndDeletingSyncUp-02-code-0001.swift","runtimePreview":null,"media":null,"caption":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We are pre-emptively applying the "},{"code":"@CasePathable","type":"codeVoice"},{"type":"text","text":" macro to make it possible to write"},{"type":"text","text":" "},{"type":"text","text":"tests against these actions in a keypath-like syntax. The "},{"type":"codeVoice","code":"@CasePathable"},{"type":"text","text":" macro is"},{"text":" ","type":"text"},{"type":"text","text":"automatically applied to "},{"code":"Action","type":"codeVoice"},{"type":"text","text":" enums inside reducers, but macros cannot recursively apply"},{"type":"text","text":" "},{"type":"text","text":"themselves and so we must do it manually sometimes."}]}],"style":"note","type":"aside","name":"Note"}],"type":"step","content":[{"inlineContent":[{"type":"text","text":"We start by modeling a new "},{"code":"Alert","type":"codeVoice"},{"text":" enum nested ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"inside","type":"text"}]},{"type":"text","text":" the "},{"code":"Action","type":"codeVoice"},{"text":" enum that represents","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"all the actions the user can take in the alert. The user can only confirm deletion or cancel"},{"text":" ","type":"text"},{"type":"text","text":"deletion, and we do not have to model the cancel action. That is automatically taken care of"},{"text":" ","type":"text"},{"type":"text","text":"by the library’s navigation tools."}],"type":"paragraph"}]},{"media":null,"code":"EditingAndDeletingSyncUp-02-code-0002.swift","caption":[{"name":"Note","type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We are using the "},{"isActive":true,"identifier":"https:\/\/swiftpackageindex.com\/pointfreeco\/swiftui-navigation\/1.2.0\/documentation\/swiftuinavigationcore\/alertstate","type":"reference"},{"text":" from our","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"http:\/\/github.com\/pointfreeco\/swiftui-navigation"},{"text":" library, which automatically comes with the Composable","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Architecture. It is a pure data description of an alert that can be shown to the user, and"},{"type":"text","text":" "},{"type":"text","text":"it is generic over the type of actions that can be sent from the alert."}]}]}],"content":[{"inlineContent":[{"type":"text","text":"Add another piece of optional state using the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Presents()"},{"type":"text","text":" macro,"},{"text":" ","type":"text"},{"text":"this time representing whether or not an alert is shown.","type":"text"}],"type":"paragraph"}],"type":"step","runtimePreview":null},{"caption":[],"code":"EditingAndDeletingSyncUp-02-code-0003.swift","type":"step","runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Add another "},{"type":"reference","isActive":true,"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PresentationAction"},{"text":" case to the ","type":"text"},{"type":"codeVoice","code":"Action"},{"text":" enum that","type":"text"},{"type":"text","text":" "},{"type":"text","text":"represents the actions the alert can send."}],"type":"paragraph"}],"media":null},{"caption":[],"media":null,"type":"step","code":"EditingAndDeletingSyncUp-02-code-0004.swift","content":[{"type":"paragraph","inlineContent":[{"text":"Handle the ","type":"text"},{"type":"codeVoice","code":".alert"},{"type":"text","text":" case in the reducer, and use the"},{"type":"text","text":" "},{"code":"ComposableArchitecture\/Reducer\/ifLet(_:action:then:fileID:line:)-7s8h2","type":"codeVoice"},{"type":"text","text":" operator"},{"text":" ","type":"text"},{"type":"text","text":"again to integrate the alert’s logic into the "},{"type":"codeVoice","code":"SyncUpDetail"},{"text":" reducer.","type":"text"}]}],"runtimePreview":null},{"inlineContent":[{"text":"Integrating the logic of an alert into a feature is a bit different from integrating the","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"logic of a fully fledged feature. This is because alerts are immediately dismissed when a"},{"type":"text","text":" "},{"type":"text","text":"button is tapped and has no internal logic or behavior of its own. For this reason there is"},{"type":"text","text":" "},{"text":"no reducer to specify in the trailing closure of ","type":"text"},{"type":"codeVoice","code":"ifLet"},{"text":", and in fact it can be removed.","type":"text"}],"type":"paragraph"},{"code":"EditingAndDeletingSyncUp-02-code-0005.swift","content":[{"inlineContent":[{"type":"text","text":"Remove the trailing closure from the "},{"code":"ifLet","type":"codeVoice"},{"type":"text","text":" because the alert does not have any additional"},{"text":" ","type":"text"},{"text":"behavior to execute.","type":"text"}],"type":"paragraph"}],"runtimePreview":null,"type":"step","media":null,"caption":[]},{"inlineContent":[{"text":"We now have the alert integrated into the ","type":"text"},{"code":"SyncUpDetail","type":"codeVoice"},{"text":", but we aren’t yet populating the","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"alert"},{"text":" state to actually present the alert. This is done by constructing a value of","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"AlertState"},{"type":"text","text":", which is a data type that represents all of the properties of an alert, such"},{"type":"text","text":" "},{"text":"as its title, message and buttons. Its primary purpose is to be ","type":"text"},{"code":"Equatable","type":"codeVoice"},{"type":"text","text":"-friendly so that"},{"text":" ","type":"text"},{"type":"text","text":"alerts can be tested."}],"type":"paragraph"},{"type":"step","runtimePreview":null,"code":"EditingAndDeletingSyncUp-02-code-0006.swift","content":[{"inlineContent":[{"text":"Populate the ","type":"text"},{"code":"alert","type":"codeVoice"},{"text":" property by constructing ","type":"text"},{"type":"codeVoice","code":"AlertState"},{"text":". This is done by providing three","type":"text"},{"text":" ","type":"text"},{"text":"trailing closures: one for the title, one for the buttons to show in the alert, and another","type":"text"},{"type":"text","text":" "},{"text":"for the message in the alert.","type":"text"}],"type":"paragraph"}],"media":null,"caption":[]},{"type":"paragraph","inlineContent":[{"type":"text","text":"That’s all it takes to create "},{"code":"AlertState","type":"codeVoice"},{"type":"text","text":". It contains all of the information for the view"},{"type":"text","text":" "},{"type":"text","text":"to display the alert, which we will do in a moment."}]},{"type":"paragraph","inlineContent":[{"text":"However, constructing ","type":"text"},{"type":"codeVoice","code":"AlertState"},{"type":"text","text":" values can be quite long, and so sometimes you may want"},{"text":" ","type":"text"},{"text":"to extract their creation to an extension on ","type":"text"},{"type":"codeVoice","code":"AlertState"},{"type":"text","text":"."}]},{"media":null,"runtimePreview":null,"caption":[],"code":"EditingAndDeletingSyncUp-02-code-0007.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Extract the alert state to an extension on "},{"code":"AlertState","type":"codeVoice"},{"text":".","type":"text"}]}],"type":"step"},{"inlineContent":[{"text":"Next we need to handle the new alert actions in the reducer.","type":"text"}],"type":"paragraph"},{"caption":[],"code":"EditingAndDeletingSyncUp-02-code-0008.swift","type":"step","media":null,"content":[{"inlineContent":[{"text":"Destructure the new ","type":"text"},{"type":"codeVoice","code":".alert"},{"text":" actions in the ","type":"text"},{"type":"codeVoice","code":"switch"},{"type":"text","text":" statement of the core "},{"code":"Reduce","type":"codeVoice"},{"type":"text","text":"."}],"type":"paragraph"}],"runtimePreview":null},{"caption":[],"media":null,"type":"step","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"There is nothing to do in the ","type":"text"},{"code":".alert(.dismiss)","type":"codeVoice"},{"type":"text","text":" case because the "},{"type":"codeVoice","code":"ifLet"},{"text":" operator will","type":"text"},{"type":"text","text":" "},{"text":"automatically clean up the state for you.","type":"text"}]}],"code":"EditingAndDeletingSyncUp-02-code-0009.swift"},{"inlineContent":[{"type":"text","text":"The "},{"code":".alert(.presented)","type":"codeVoice"},{"type":"text","text":" case is more subtle, though. This action is sent when the user"},{"type":"text","text":" "},{"type":"text","text":"confirms that they want to delete the sync-up, and so somehow we have to remove the "},{"type":"codeVoice","code":"syncUp"},{"type":"text","text":" we"},{"text":" ","type":"text"},{"text":"have in state from the collection of sync-ups that is in the ","type":"text"},{"type":"codeVoice","code":"SyncUpsList"},{"type":"text","text":" feature."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"However, remember that in "},{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PersistingSyncUps","isActive":true,"type":"reference"},{"text":" we showed how to persist the collection","type":"text"},{"type":"text","text":" "},{"text":"of sync-ups using the ","type":"text"},{"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Shared","overridingTitleInlineContent":[{"type":"codeVoice","code":"@Shared"}],"isActive":true,"overridingTitle":"@Shared","type":"reference"},{"type":"text","text":" property wrapper with the"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PersistenceReaderKey\/fileStorage(_:decoder:encoder:)"},{"type":"text","text":" persistence strategy. This"},{"type":"text","text":" "},{"text":"gives the app ","type":"text"},{"inlineContent":[{"text":"global","type":"text"}],"type":"emphasis"},{"text":" access to that state, and we can make edits to it from anywhere. We can","type":"text"},{"type":"text","text":" "},{"type":"text","text":"even do it directly inline in the "},{"type":"codeVoice","code":".confirmButtonTapped"},{"text":" action.","type":"text"}]},{"caption":[{"style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"text":"This does not actually load data from disk. The data has already been loaded from","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"disk and cached in the "},{"overridingTitleInlineContent":[{"code":"@Shared","type":"codeVoice"}],"type":"reference","overridingTitle":"@Shared","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Shared","isActive":true},{"text":" reference. This is only giving us access","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to that reference."}]}],"type":"aside"}],"media":null,"runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use the "},{"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Shared","isActive":true},{"text":" property wrapper with the","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PersistenceReaderKey\/fileStorage(_:decoder:encoder:)"},{"text":" persistence strategy to get","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a reference to the sync-ups loaded from disk."}]}],"code":"EditingAndDeletingSyncUp-02-code-0010.swift"},{"runtimePreview":null,"media":null,"type":"step","code":"EditingAndDeletingSyncUp-02-code-0011.swift","caption":[],"content":[{"inlineContent":[{"type":"text","text":"Use the "},{"type":"codeVoice","code":"id"},{"text":" of the sync-up held in the detail’s state to remove it from the ","type":"text"},{"type":"codeVoice","code":"syncUps"},{"text":" ","type":"text"},{"text":"collection persisted to disk.","type":"text"}],"type":"paragraph"}]},{"inlineContent":[{"type":"text","text":"That’s all it takes to delete the sync-up from the persisted array of sync-ups. It may trouble"},{"text":" ","type":"text"},{"type":"text","text":"you that we are reaching out to a seemingly global "},{"type":"codeVoice","code":"syncUps"},{"text":" variable and mutating it.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"However, this is no different than making an API request to delete data on some external"},{"text":" ","type":"text"},{"text":"server. Typically for that situation we use dependencies to make the API operation testable,","type":"text"},{"text":" ","type":"text"},{"text":"but we don’t need to do that with ","type":"text"},{"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Shared","type":"reference","isActive":true,"overridingTitle":"@Shared","overridingTitleInlineContent":[{"code":"@Shared","type":"codeVoice"}]},{"text":". It is testable by default.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"If it truly bothers you to access the global "},{"code":"syncUps","type":"codeVoice"},{"type":"text","text":" state from within the detail feature,"},{"type":"text","text":" "},{"text":"then you can instead send a “delegate” action from the detail that the parent feature","type":"text"},{"type":"text","text":" "},{"type":"text","text":"intercepts and implements the deleting logic. That will allow the parent to handle deletion"},{"text":" ","type":"text"},{"type":"text","text":"while the child remains ignorant to those details."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"There is one more addition we want to make to the deletion functionality before moving on."},{"type":"text","text":" "},{"text":"When the user confirms deletion of the sync-up we should dismiss the detail view from being","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"presented, as it’s no longer relevant. After all, the sync-up is being deleted!"}]},{"inlineContent":[{"text":"This allows us to demonstrate another superpower of the Composable Architecture. The library","type":"text"},{"type":"text","text":" "},{"type":"text","text":"comes with a powerful dependency called "},{"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/DismissEffect","isActive":true},{"type":"text","text":" that allows a"},{"text":" ","type":"text"},{"type":"text","text":"feature to dismiss itself if it is being presented, and if the feature was integrated into the"},{"type":"text","text":" "},{"text":"parent using the library’s navigation tools. This can be powerful because it allows the child","type":"text"},{"type":"text","text":" "},{"type":"text","text":"features to encapsulate as much of their logic as possible without having to explicitly"},{"type":"text","text":" "},{"type":"text","text":"communicate with the parent. It works similarly to SwiftUI’s "},{"type":"codeVoice","code":"@Environment(\\.dismiss)"},{"type":"text","text":", but it"},{"type":"text","text":" "},{"type":"text","text":"is also distinct from it."}],"type":"paragraph"},{"media":null,"code":"EditingAndDeletingSyncUp-02-code-0012.swift","content":[{"inlineContent":[{"text":"Add a dependency on ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/DismissEffect"},{"text":" to the ","type":"text"},{"code":"SyncUpDetail","type":"codeVoice"},{"text":" feature","type":"text"},{"type":"text","text":" "},{"text":"by using the ","type":"text"},{"type":"codeVoice","code":"@Dependency"},{"type":"text","text":" property wrapper."}],"type":"paragraph"}],"caption":[],"type":"step","runtimePreview":null},{"inlineContent":[{"text":"To dismiss a child feature with the ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/DismissEffect"},{"type":"text","text":" dependency you"},{"type":"text","text":" "},{"type":"text","text":"just have to invoke it as if it’s a function: "},{"type":"codeVoice","code":"dismiss()"},{"type":"text","text":". However, the dismiss effect is an"},{"text":" ","type":"text"},{"text":"asynchronous function, and therefore it cannot be invoked directly in the reducer. It can","type":"text"},{"type":"text","text":" "},{"text":"only be invoked inside an effect, and so we must use the","type":"text"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Effect\/run(priority:operation:catch:fileID:filePath:line:column:)"},{"type":"text","text":" effect, which"},{"text":" ","type":"text"},{"type":"text","text":"gives us an asynchronous context to execute the work in, as well as a handle on"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Send"},{"text":" for sending actions back into the system.","type":"text"}],"type":"paragraph"},{"runtimePreview":null,"media":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Return a ","type":"text"},{"type":"codeVoice","code":".run"},{"type":"text","text":" effect to send the delegate action and invoke "},{"code":"dismiss","type":"codeVoice"},{"text":" in one single","type":"text"},{"text":" ","type":"text"},{"text":"effect.","type":"text"}]}],"type":"step","caption":[],"code":"EditingAndDeletingSyncUp-02-code-0013.swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Next we need to integrate the alert into the view layer so that an alert actually shows when"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":"alert"},{"type":"text","text":" state becomes non-"},{"type":"codeVoice","code":"nil"},{"text":".","type":"text"}]},{"caption":[],"runtimePreview":null,"media":null,"code":"EditingAndDeletingSyncUp-02-code-0014.swift","type":"step","content":[{"inlineContent":[{"type":"text","text":"In the "},{"code":"SyncUpDetailView","type":"codeVoice"},{"text":", go to the bottom and use the ","type":"text"},{"code":"SwiftUI\/View\/alert(_:)","type":"codeVoice"},{"type":"text","text":" view"},{"text":" ","type":"text"},{"text":"modifier that comes with the library. This will cause an alert to be presented when the","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":"alert"},{"text":" state is populated.","type":"text"}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"We have now finished the sync-up deletion functionality in the detail screen. Unfortunately we"},{"text":" ","type":"text"},{"type":"text","text":"can’t yet test deletion because we still have no way to navigate to the detail screen from the"},{"type":"text","text":" "},{"text":"sync-ups list screen.","type":"text"}]},{"inlineContent":[{"type":"text","text":"But, before getting to that, let’s take a quick side excursion to clean up our domain"},{"text":" ","type":"text"},{"type":"text","text":"modeling in this feature."}],"type":"paragraph"}]},{"stepsSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a whole new reducer nested inside the "},{"code":"SyncUpDetail","type":"codeVoice"},{"text":" called ","type":"text"},{"type":"codeVoice","code":"Destination"},{"type":"text","text":". This"},{"type":"text","text":" "},{"type":"text","text":"reducer will represent all of the places one can navigate to from the detail screen, and"},{"text":" ","type":"text"},{"text":"that will give us a single piece of state to drive navigation rather than having multiple","type":"text"},{"text":" ","type":"text"},{"text":"optional values.","type":"text"}]}],"media":null,"runtimePreview":null,"type":"step","code":"EditingAndDeletingSyncUp-03-code-0001.swift","caption":[{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"Further"}]},{"type":"text","text":", the "},{"type":"codeVoice","code":"Destination"},{"type":"text","text":" type will be an "},{"type":"emphasis","inlineContent":[{"text":"enum","type":"text"}]},{"type":"text","text":". This is different than other reducers"},{"text":" ","type":"text"},{"type":"text","text":"we have encountered so far. The "},{"overridingTitle":"@Reducer","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Reducer()","overridingTitleInlineContent":[{"code":"@Reducer","type":"codeVoice"}],"type":"reference","isActive":true},{"text":" has special behavior when","type":"text"},{"type":"text","text":" "},{"type":"text","text":"applied to enums that allows one to compose multiple reducers into a single package."}]},{"type":"aside","name":"Important","style":"important","content":[{"inlineContent":[{"type":"text","text":"As we have seen it is important for "},{"type":"codeVoice","code":"State"},{"text":" types to be ","type":"text"},{"type":"codeVoice","code":"Equatable"},{"text":" for","type":"text"},{"type":"text","text":" "},{"type":"text","text":"testing, and so we are proactively making the "},{"type":"codeVoice","code":"State"},{"text":" type generated for the ","type":"text"},{"type":"codeVoice","code":"Destination"},{"text":" ","type":"text"},{"type":"text","text":"reducer equatable "},{"type":"emphasis","inlineContent":[{"text":"via","type":"text"}]},{"text":" extension.","type":"text"}],"type":"paragraph"}]},{"name":"Note","type":"aside","content":[{"inlineContent":[{"text":"We have collapsed the implementation of ","type":"text"},{"type":"codeVoice","code":"SyncUpDetail"},{"type":"text","text":" and "},{"code":"SyncUpDetailView","type":"codeVoice"},{"text":" in","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"this code snippet."}],"type":"paragraph"}],"style":"note"}]},{"media":null,"code":"EditingAndDeletingSyncUp-03-code-0002.swift","runtimePreview":null,"type":"step","caption":[{"inlineContent":[{"text":"We will also move the ","type":"text"},{"type":"codeVoice","code":"Alert"},{"text":" action enum from the ","type":"text"},{"type":"codeVoice","code":"SyncUpDetail.Action"},{"text":" type to be nested","type":"text"},{"type":"text","text":" "},{"type":"text","text":"inside "},{"code":"Destination","type":"codeVoice"},{"type":"text","text":"."}],"type":"paragraph"}],"content":[{"inlineContent":[{"type":"text","text":"Add a case for each destination that can be navigated to from this feature. Each case will"},{"text":" ","type":"text"},{"type":"text","text":"hold onto the "},{"type":"emphasis","inlineContent":[{"text":"reducer","type":"text"}]},{"text":" type of the feature being navigated to, except for the ","type":"text"},{"type":"codeVoice","code":"alert"},{"text":" case.","type":"text"},{"type":"text","text":" "},{"text":"It will simply hold onto ","type":"text"},{"code":"AlertState","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"That is all it takes to define a dedicated "},{"type":"codeVoice","code":"Destination"},{"type":"text","text":" reducer that encapsulates all of the"},{"type":"text","text":" "},{"type":"text","text":"logic and behavior of the features that can be navigated to. You can right click on the"},{"text":" ","type":"text"},{"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Reducer()","overridingTitleInlineContent":[{"code":"@Reducer","type":"codeVoice"}],"overridingTitle":"@Reducer","type":"reference","isActive":true},{"text":" macro and select “Expand macro” in Xcode to see all of the code","type":"text"},{"text":" ","type":"text"},{"text":"that is being written for you.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Next we need to integrate this new "},{"code":"Destination","type":"codeVoice"},{"text":" reducer into the main ","type":"text"},{"code":"SyncUpDetail","type":"codeVoice"},{"type":"text","text":" reducer."}],"type":"paragraph"},{"code":"EditingAndDeletingSyncUp-03-code-0003.swift","content":[{"inlineContent":[{"text":"Replace the two independent pieces of optional state in ","type":"text"},{"code":"SyncUpDetail.State","type":"codeVoice"},{"type":"text","text":" for a single"},{"text":" ","type":"text"},{"text":"piece of optional ","type":"text"},{"type":"codeVoice","code":"Destination.State"},{"type":"text","text":"."}],"type":"paragraph"}],"type":"step","media":null,"runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"We now have just one single piece of optional state that determines if navigation is active","type":"text"},{"type":"text","text":" "},{"text":"and where we are being navigated to.","type":"text"}]},{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"There will be compiler errors after completing this step, but we will fix them in","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"upcoming steps."}]}]}]},{"content":[{"inlineContent":[{"text":"Replace the two action cases for the alert and edit sheet with a single case that holds on","type":"text"},{"text":" ","type":"text"},{"text":"to a ","type":"text"},{"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PresentationAction","isActive":true,"type":"reference"},{"type":"text","text":" of "},{"type":"codeVoice","code":"Destination.Action"},{"type":"text","text":"."}],"type":"paragraph"}],"caption":[],"media":null,"code":"EditingAndDeletingSyncUp-03-code-0004.swift","runtimePreview":null,"type":"step"},{"type":"step","runtimePreview":null,"caption":[{"content":[{"inlineContent":[{"text":"Due to the expanded code from the ","type":"text"},{"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Reducer()","type":"reference","isActive":true,"overridingTitle":"@Reducer","overridingTitleInlineContent":[{"code":"@Reducer","type":"codeVoice"}]},{"type":"text","text":" macro we don’t even"},{"text":" ","type":"text"},{"type":"text","text":"need to provide a trailing closure to "},{"type":"codeVoice","code":"ifLet"},{"text":". It can be inferred automatically.","type":"text"}],"type":"paragraph"}],"style":"note","type":"aside","name":"Note"}],"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Replace the two "},{"type":"codeVoice","code":"ifLet"},{"type":"text","text":" operators at the bottom of "},{"code":"SyncUpDetail","type":"codeVoice"},{"type":"text","text":" with a single one that"},{"type":"text","text":" "},{"text":"composes the ","type":"text"},{"type":"codeVoice","code":"Destination"},{"type":"text","text":" reducer."}]}],"code":"EditingAndDeletingSyncUp-03-code-0005.swift","media":null},{"inlineContent":[{"type":"text","text":"That is all it takes to integrate the "},{"type":"codeVoice","code":"Destination"},{"type":"text","text":" reducer into the "},{"type":"codeVoice","code":"SyncUpDetail"},{"type":"text","text":" reducer."},{"type":"text","text":" "},{"type":"text","text":"Next we have to update the core "},{"type":"codeVoice","code":"Reduce"},{"text":" to handle the new destination state and actions","type":"text"},{"type":"text","text":" "},{"text":"properly.","type":"text"}],"type":"paragraph"},{"caption":[],"content":[{"inlineContent":[{"type":"text","text":"Update the pattern matching for the alert to go through the "},{"code":".destination(.presented)","type":"codeVoice"},{"text":"","type":"text"},{"type":"text","text":" "},{"text":"case.","type":"text"}],"type":"paragraph"}],"media":null,"type":"step","code":"EditingAndDeletingSyncUp-03-code-0006.swift","runtimePreview":null},{"caption":[],"runtimePreview":null,"code":"EditingAndDeletingSyncUp-03-code-0007.swift","type":"step","media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Return "},{"code":".none","type":"codeVoice"},{"text":" for all other ","type":"text"},{"type":"codeVoice","code":".destination"},{"type":"text","text":" actions."}]}]},{"media":null,"type":"step","runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Update where we "},{"type":"codeVoice","code":"nil"},{"text":" out ","type":"text"},{"code":"editSyncUp","type":"codeVoice"},{"text":" state to instead ","type":"text"},{"type":"codeVoice","code":"nil"},{"type":"text","text":" out the "},{"code":"destination","type":"codeVoice"},{"text":" state.","type":"text"}],"type":"paragraph"}],"code":"EditingAndDeletingSyncUp-03-code-0008.swift","caption":[]},{"type":"step","caption":[],"runtimePreview":null,"content":[{"inlineContent":[{"text":"Update where we populate the ","type":"text"},{"code":"alert","type":"codeVoice"},{"type":"text","text":" state to instead point the "},{"code":"destination","type":"codeVoice"},{"type":"text","text":" state to the"},{"type":"text","text":" "},{"type":"codeVoice","code":".alert"},{"type":"text","text":" case."}],"type":"paragraph"}],"code":"EditingAndDeletingSyncUp-03-code-0009.swift","media":null},{"runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Update the ","type":"text"},{"code":".doneEditingButtonTapped","type":"codeVoice"},{"type":"text","text":" action by grabbing the edited sync-up from the "},{"type":"codeVoice","code":".edit"},{"type":"text","text":" "},{"type":"text","text":"case of the "},{"type":"codeVoice","code":"destination"},{"text":" enum.","type":"text"}]}],"caption":[],"media":null,"code":"EditingAndDeletingSyncUp-03-code-0010.swift"},{"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Update where we previously populated the "},{"type":"codeVoice","code":"editSyncUp"},{"type":"text","text":" state to instead point the"},{"text":" ","type":"text"},{"type":"codeVoice","code":"destination"},{"type":"text","text":" enum to the "},{"type":"codeVoice","code":".edit"},{"type":"text","text":" case with some "},{"type":"codeVoice","code":"SyncUpForm"},{"type":"text","text":" state."}]}],"caption":[],"media":null,"code":"EditingAndDeletingSyncUp-03-code-0011.swift","runtimePreview":null},{"code":"EditingAndDeletingSyncUp-03-code-0012.swift","runtimePreview":null,"caption":[],"content":[{"inlineContent":[{"text":"Update the extension on ","type":"text"},{"type":"codeVoice","code":"AlertState"},{"text":" to point to the ","type":"text"},{"type":"codeVoice","code":"Destination"},{"text":"’s alert action.","type":"text"}],"type":"paragraph"}],"media":null,"type":"step"},{"type":"paragraph","inlineContent":[{"text":"That’s all it takes to fully integrate the ","type":"text"},{"code":"Destination","type":"codeVoice"},{"type":"text","text":" reducer into the "},{"code":"SyncUpDetail","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"reducer. Next we have to update the view so that we can drive the presentation of the alert"},{"text":" ","type":"text"},{"text":"and sheet from the destination enum.","type":"text"}]},{"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Update the ","type":"text"},{"type":"codeVoice","code":"SwiftUI\/View\/alert(_:)"},{"type":"text","text":" and "},{"type":"codeVoice","code":".sheet(item:)"},{"type":"text","text":" modifiers at the bottom of the"},{"type":"text","text":" "},{"type":"text","text":"view so that the "},{"type":"codeVoice","code":"$store.scope"},{"text":" further singles out the case for driving navigation.","type":"text"}]}],"media":null,"caption":[],"type":"step","code":"EditingAndDeletingSyncUp-03-code-0013.swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"That is all it takes to finish the refactor to use an enum to drive navigation rather than"},{"type":"text","text":" "},{"type":"text","text":"multiple optionals. Our domain is more concisely modeled, and we can know precisely when"},{"type":"text","text":" "},{"type":"text","text":"something is being presented. We merely have to check if "},{"type":"codeVoice","code":"destination != nil"},{"type":"text","text":"."}]}],"anchor":"More-concise-domain-modeling","contentSection":[{"kind":"contentAndMedia","mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"SyncUpDetail","type":"codeVoice"},{"text":" works well enough right now, but there is something not ideal about how its","type":"text"},{"type":"text","text":" "},{"text":"domain is modeled. We are representing the alert and edit sheet using two independent optional","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"values, which allows for invalid states. We only expect that either the alert "},{"inlineContent":[{"text":"or","type":"text"}],"type":"emphasis"},{"text":" sheet is","type":"text"},{"text":" ","type":"text"},{"text":"shown at one time, but it is possible for both optionals to be non-","type":"text"},{"type":"codeVoice","code":"nil"},{"text":" at the same time.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"And this problem gets bigger with the most destinations you can navigate to from a feature."},{"text":" ","type":"text"},{"text":"For example, if there are 4 possible destinations one can navigate to, then modeling that","type":"text"},{"text":" ","type":"text"},{"text":"with optionals leads to 2^4 = 16 possible states, only 5 of which are valid. Either all","type":"text"},{"text":" ","type":"text"},{"text":"optionals should be ","type":"text"},{"type":"codeVoice","code":"nil"},{"type":"text","text":" or exactly one should be non-"},{"code":"nil","type":"codeVoice"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This kind of inconcise domain modeling can leak complexity into your features, and luckily"},{"type":"text","text":" "},{"text":"there is a better way.","type":"text"}]}]}],"title":"More concise domain modeling"}],"kind":"tasks"},{"action":{"overridingTitleInlineContent":[{"text":"Get started","type":"text"}],"isActive":true,"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpDetail","type":"reference","overridingTitle":"Get started"},"kind":"callToAction","abstract":[{"text":"The ","type":"text"},{"code":"SyncUpDetail","type":"codeVoice"},{"text":" feature has slowly become quite complex. It now handles two forms of","type":"text"},{"type":"text","text":" "},{"type":"text","text":"navigation (an alert and sheet), it models navigation state with a single enum, and it"},{"text":" ","type":"text"},{"type":"text","text":"communicates with a parent feature via delegate actions. It’s about time we got some test"},{"text":" ","type":"text"},{"text":"coverage on this feature so we can be sure it works as we expect, and so that we can make future","type":"text"},{"type":"text","text":" "},{"type":"text","text":"changes with confidence."}],"title":"Testing the sync-up detail","featuredEyebrow":"Tutorial"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/EditingAndDeletingSyncUp"},"references":{"https://swiftpackageindex.com/pointfreeco/swiftui-navigation/1.2.0/documentation/swiftuinavigationcore/alertstate":{"url":"https:\/\/swiftpackageindex.com\/pointfreeco\/swiftui-navigation\/1.2.0\/documentation\/swiftuinavigationcore\/alertstate","identifier":"https:\/\/swiftpackageindex.com\/pointfreeco\/swiftui-navigation\/1.2.0\/documentation\/swiftuinavigationcore\/alertstate","title":"AlertState","titleInlineContent":[{"type":"codeVoice","code":"AlertState"}],"type":"link"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ImplementingTimer#A-basic-timer":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer#A-basic-timer","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/implementingtimer#A-basic-timer","abstract":[{"type":"text","text":"The first major piece of logic and behavior we will introduce to the record meeting feature is"},{"text":" ","type":"text"},{"type":"text","text":"the timer. This is a long-living effect that runs in parallel with the rest of the feature, and"},{"type":"text","text":" "},{"type":"text","text":"we need to implement nuanced logic to figure out when to proceed to the next speaker."}],"title":"A basic timer","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingSyncUpDetail#Testing-the-edit-flow":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpDetail#Testing-the-edit-flow","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/testingsyncupdetail#Testing-the-edit-flow","abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"SyncUpDetail"},{"text":" feature has slowly become quite complex. It now handles two forms of","type":"text"},{"type":"text","text":" "},{"text":"navigation (an alert and sheet), it models navigation state with a single enum, and it","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"communicates with a parent feature via delegate actions. It’s about time we got some test"},{"type":"text","text":" "},{"type":"text","text":"coverage on this feature so we can be sure it works as we expect, and so that we can make future"},{"text":" ","type":"text"},{"type":"text","text":"changes with confidence."}],"title":"Testing the edit flow","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpDetailNavigation#Navigating-to-the-detail":{"type":"section","url":"\/tutorials\/composablearchitecture\/syncupdetailnavigation#Navigating-to-the-detail","kind":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetailNavigation#Navigating-to-the-detail","abstract":[{"type":"text","text":"We will wrap the application built so far in a "},{"type":"codeVoice","code":"NavigationStack"},{"text":" so that we can navigate to","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the detail screen. To do this we will create a new root-level feature that will be responsible"},{"text":" ","type":"text"},{"type":"text","text":"for implementing the logic of the stack and integrating all of the features together."}],"role":"pseudoSymbol","title":"Navigating to the detail"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/MeetingNavigation#The-meeting-screen":{"url":"\/tutorials\/composablearchitecture\/meetingnavigation#The-meeting-screen","abstract":[{"type":"text","text":"Now that we have a navigation stack in place we can start navigating to other features in the"},{"type":"text","text":" "},{"type":"text","text":"application. The simplest is the meeting screen, which allows you to see the details of a"},{"type":"text","text":" "},{"type":"text","text":"previous recorded meeting."}],"role":"pseudoSymbol","title":"The meeting screen","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/MeetingNavigation#The-meeting-screen","kind":"section"},"EditingAndDeletingSyncUp-02-code-0004.swift":{"type":"file","highlights":[{"line":29},{"line":30},{"line":31},{"line":57},{"line":58},{"line":59}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0004.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert:","        return .none","        ","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) {","      ","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"EditingAndDeletingSyncUp-01-code-0005.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  \/\/ ...","}","","struct SyncUpDetailView: View {","  @Bindable var store: StoreOf<SyncUpDetail>","","  var body: some View {","    Form {","      Section {","        NavigationLink {","        } label: {","          Label(\"Start Meeting\", systemImage: \"timer\")","            .font(.headline)","            .foregroundColor(.accentColor)","        }","        HStack {","          Label(\"Length\", systemImage: \"clock\")","          Spacer()","          Text(store.syncUp.duration.formatted(.units()))","        }","","        HStack {","          Label(\"Theme\", systemImage: \"paintpalette\")","          Spacer()","          Text(store.syncUp.theme.name)","            .padding(4)","            .foregroundColor(store.syncUp.theme.accentColor)","            .background(store.syncUp.theme.mainColor)","            .cornerRadius(4)","        }","      } header: {","        Text(\"Sync-up Info\")","      }","","      if !store.syncUp.meetings.isEmpty {","        Section {","          ForEach(store.syncUp.meetings) { meeting in","            Button {","            } label: {","              HStack {","                Image(systemName: \"calendar\")","                Text(meeting.date, style: .date)","                Text(meeting.date, style: .time)","              }","            }","          }","        } header: {","          Text(\"Past meetings\")","        }","      }","","      Section {","        ForEach(store.syncUp.attendees) { attendee in","          Label(attendee.name, systemImage: \"person\")","        }","      } header: {","        Text(\"Attendees\")","      }","","      Section {","        Button(\"Delete\") {","          store.send(.deleteButtonTapped)","        }","        .foregroundColor(.red)","        .frame(maxWidth: .infinity)","      }","    }","    .navigationTitle(Text(store.syncUp.title))","    .toolbar {","      Button(\"Edit\") {","        store.send(.editButtonTapped)","      }","    }","  }","}","","#Preview {","  NavigationStack {","    SyncUpDetailView(","      store: Store(","        initialState: SyncUpDetail.State(","          syncUp: Shared(.mock)","        )","      ) {","        SyncUpDetail()","      }","    )","  }","}"],"highlights":[{"line":10}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0005.swift"},"EditingAndDeletingSyncUp-02-code-0005.swift":{"type":"file","highlights":[{"line":57}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0005.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert:","        return .none","        ","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingSyncUpForm#Removing-attendees":{"url":"\/tutorials\/composablearchitecture\/testingsyncupform#Removing-attendees","abstract":[{"text":"We now have a moderately complex feature for editing the details of a sync-up, the ","type":"text"},{"type":"codeVoice","code":"SyncUpForm"},{"type":"text","text":" "},{"type":"text","text":"reducer. Let’s get some test coverage on the feature, and doing so will force us to come"},{"text":" ","type":"text"},{"type":"text","text":"face-to-face with dependencies for the first time in this tutorial."}],"role":"pseudoSymbol","title":"Removing attendees","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpForm#Removing-attendees","kind":"section"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingSyncUpDetail":{"abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"SyncUpDetail"},{"type":"text","text":" feature has slowly become quite complex. It now handles two forms of"},{"type":"text","text":" "},{"text":"navigation (an alert and sheet), it models navigation state with a single enum, and it","type":"text"},{"type":"text","text":" "},{"text":"communicates with a parent feature via delegate actions. It’s about time we got some test","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"coverage on this feature so we can be sure it works as we expect, and so that we can make future"},{"text":" ","type":"text"},{"text":"changes with confidence.","type":"text"}],"title":"Testing the sync-up detail","type":"topic","estimatedTime":"10min","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpDetail","url":"\/tutorials\/composablearchitecture\/testingsyncupdetail","kind":"project","role":"project"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/PresentationState":{"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PresentationState","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"kind":"identifier","text":"PresentationState"}],"type":"topic","abstract":[{"text":"A property wrapper for state that can be presented.","type":"text"}],"navigatorTitle":[{"text":"PresentationState","kind":"identifier"}],"url":"\/documentation\/composablearchitecture\/presentationstate","role":"symbol","title":"PresentationState","kind":"symbol"},"doc://ComposableArchitecture/tutorials/BuildingSyncUps/What-is-SyncUps-":{"abstract":[],"title":"What is SyncUps?","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/What-is-SyncUps-","url":"\/tutorials\/buildingsyncups\/what-is-syncups-","kind":"article","role":"article"},"EditingAndDeletingSyncUp-02-code-0009.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert(.presented(.confirmButtonTapped)):","        ","      case .alert(.dismiss):","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":32}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0009.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ImplementingTimer#Testing-the-timer":{"url":"\/tutorials\/composablearchitecture\/implementingtimer#Testing-the-timer","abstract":[{"text":"The first major piece of logic and behavior we will introduce to the record meeting feature is","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the timer. This is a long-living effect that runs in parallel with the rest of the feature, and"},{"text":" ","type":"text"},{"type":"text","text":"we need to implement nuanced logic to figure out when to proceed to the next speaker."}],"role":"pseudoSymbol","title":"Testing the timer","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer#Testing-the-timer","kind":"section"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/PresentationAction":{"role":"symbol","title":"PresentationAction","abstract":[{"type":"text","text":"A wrapper type for actions that can be presented."}],"fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"PresentationAction","kind":"identifier"}],"kind":"symbol","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PresentationAction","navigatorTitle":[{"kind":"identifier","text":"PresentationAction"}],"type":"topic","url":"\/documentation\/composablearchitecture\/presentationaction"},"EditingAndDeletingSyncUp-02-code-0011.swift":{"type":"file","highlights":[{"line":31},{"line":32},{"line":85}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0011.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert(.presented(.confirmButtonTapped)):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .none","","      case .alert(.dismiss):","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}",""],"fileType":"swift"},"EditingAndDeletingSyncUp-02-code-0002.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":8}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0002.swift"},"EditingAndDeletingSyncUp-03-code-0004.swift":{"type":"file","highlights":[{"line":23},{"line":26},{"line":29},{"line":30},{"line":31},{"line":32}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0004.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    \/\/ case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case destination(PresentationAction<Destination.Action>)","    case doneEditingButtonTapped","    case editButtonTapped","    \/\/ case editSyncUp(PresentationAction<SyncUpForm.Action>)","    \/\/ enum Alert {","    \/\/   case confirmButtonTapped","    \/\/ }","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert(.presented(.confirmButtonTapped)):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .alert(.dismiss):","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .delegate:","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"EditingAndDeletingSyncUp-03-code-0008.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case destination(PresentationAction<Destination.Action>)","    case doneEditingButtonTapped","    case editButtonTapped","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      \/\/ case .alert(.presented(.confirmButtonTapped)):","      case .destination(.presented(.alert(.confirmButtonTapped))):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .destination:","        return .none","","      case .cancelEditButtonTapped:","        state.destination = nil","        return .none","","      case .delegate:","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","      }","    }","    .ifLet(\\.$destination, action: \\.destination)","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":45}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0008.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/MeetingNavigation":{"url":"\/tutorials\/composablearchitecture\/meetingnavigation","abstract":[{"text":"Now that we have a navigation stack in place we can start navigating to other features in the","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"application. The simplest is the meeting screen, which allows you to see the details of a"},{"type":"text","text":" "},{"type":"text","text":"previous recorded meeting."}],"role":"project","estimatedTime":"5min","title":"Navigating to a meeting","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/MeetingNavigation","kind":"project"},"EditingAndDeletingSyncUp-01-code-0004.swift":{"type":"file","highlights":[{"line":25}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0004.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case deleteButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .deleteButtonTapped:","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/Send":{"url":"\/documentation\/composablearchitecture\/send","role":"symbol","title":"Send","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"Send","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"Send"}],"abstract":[{"text":"A type that can send actions back into the system when used from","type":"text"},{"text":" ","type":"text"},{"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Effect\/run(priority:operation:catch:fileID:filePath:line:column:)","isActive":true},{"text":".","type":"text"}],"kind":"symbol","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Send","type":"topic"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingNavigation#Deleting-a-sync-up":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingNavigation#Deleting-a-sync-up","kind":"section","url":"\/tutorials\/composablearchitecture\/testingnavigation#Deleting-a-sync-up","type":"section","abstract":[{"type":"text","text":"We have now implemented a navigation stack at the root of our application, and integrated"},{"text":" ","type":"text"},{"text":"3 features into the stack: the ","type":"text"},{"type":"codeVoice","code":"SyncUpsList"},{"text":" feature, the ","type":"text"},{"type":"codeVoice","code":"SyncUpDetail"},{"type":"text","text":" feature, and the"},{"type":"text","text":" "},{"type":"codeVoice","code":"MeetingView"},{"type":"text","text":". Some of these features have quite complex logic binding them together, such as"},{"type":"text","text":" "},{"text":"when one deletes a sync-up from the detail screen it should pop the screen off the stack.","type":"text"}],"role":"pseudoSymbol","title":"Deleting a sync-up"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/Reducer()":{"kind":"symbol","abstract":[{"text":"Helps implement the conformance to the ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Reducer"},{"type":"text","text":" protocol for a type."}],"url":"\/documentation\/composablearchitecture\/reducer()","fragments":[{"kind":"keyword","text":"macro"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Reducer"},{"text":"()","kind":"text"}],"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Reducer()","type":"topic","role":"symbol","title":"Reducer()"},"EditingAndDeletingSyncUp-03-code-0012.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case destination(PresentationAction<Destination.Action>)","    case doneEditingButtonTapped","    case editButtonTapped","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      \/\/ case .alert(.presented(.confirmButtonTapped)):","      case .destination(.presented(.alert(.confirmButtonTapped))):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .destination:","        return .none","","      case .cancelEditButtonTapped:","        state.destination = nil","        return .none","","      case .deleteButtonTapped:","        state.destination = .alert(.deleteSyncUp)","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.destination?.edit?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.destination = nil","        return .none","","      case .editButtonTapped:","        \/\/ state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        state.destination = .edit(SyncUpForm.State(syncUp: state.syncUp))","        return .none","      }","    }","    .ifLet(\\.$destination, action: \\.destination)","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Destination.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":70}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0012.swift"},"EditingAndDeletingSyncUp-01-code-0007.swift":{"type":"file","highlights":[{"line":82},{"line":83},{"line":84},{"line":85},{"line":86},{"line":87},{"line":88},{"line":89},{"line":90},{"line":91},{"line":92}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0007.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  \/\/ ...","}","","struct SyncUpDetailView: View {","  @Bindable var store: StoreOf<SyncUpDetail>","","  var body: some View {","    Form {","      Section {","        NavigationLink {","        } label: {","          Label(\"Start Meeting\", systemImage: \"timer\")","            .font(.headline)","            .foregroundColor(.accentColor)","        }","        HStack {","          Label(\"Length\", systemImage: \"clock\")","          Spacer()","          Text(store.syncUp.duration.formatted(.units()))","        }","","        HStack {","          Label(\"Theme\", systemImage: \"paintpalette\")","          Spacer()","          Text(store.syncUp.theme.name)","            .padding(4)","            .foregroundColor(store.syncUp.theme.accentColor)","            .background(store.syncUp.theme.mainColor)","            .cornerRadius(4)","        }","      } header: {","        Text(\"Sync-up Info\")","      }","","      if !store.syncUp.meetings.isEmpty {","        Section {","          ForEach(store.syncUp.meetings) { meeting in","            Button {","            } label: {","              HStack {","                Image(systemName: \"calendar\")","                Text(meeting.date, style: .date)","                Text(meeting.date, style: .time)","              }","            }","          }","        } header: {","          Text(\"Past meetings\")","        }","      }","","      Section {","        ForEach(store.syncUp.attendees) { attendee in","          Label(attendee.name, systemImage: \"person\")","        }","      } header: {","        Text(\"Attendees\")","      }","","      Section {","        Button(\"Delete\") {","          store.send(.deleteButtonTapped)","        }","        .foregroundColor(.red)","        .frame(maxWidth: .infinity)","      }","    }","    .navigationTitle(Text(store.syncUp.title))","    .toolbar {","      Button(\"Edit\") {","        store.send(.editButtonTapped)","      }","    }","    .sheet(item: $store.scope(state: \\.editSyncUp, action: \\.editSyncUp)) { editSyncUpStore in","      NavigationStack {","        SyncUpFormView(store: editSyncUpStore)","          .navigationTitle(store.syncUp.title)","          .toolbar {","            ToolbarItem(placement: .cancellationAction) {","              Button(\"Cancel\") {","              }","            }","            ToolbarItem(placement: .confirmationAction) {","              Button(\"Done\") {","              }","            }","          }","      }","    }","  }","}","","#Preview {","  NavigationStack {","    SyncUpDetailView(","      store: Store(","        initialState: SyncUpDetail.State(","          syncUp: Shared(.mock)","        )","      ) {","        SyncUpDetail()","      }","    )","  }","}"],"fileType":"swift"},"EditingAndDeletingSyncUp-02-code-0006.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert:","        return .none","        ","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        state.alert = AlertState {","          TextState(\"Delete?\")","        } actions: {","          ButtonState(role: .destructive, action: .confirmButtonTapped) {","            TextState(\"Yes\")","          }","          ButtonState(role: .cancel) {","            TextState(\"Nevermind\")","          }","        } message: {","          TextState(\"Are you sure you want to delete this meeting?\")","        }","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0006.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingSyncUpFormPresentation#Non-exhaustive-testing":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpFormPresentation#Non-exhaustive-testing","kind":"section","url":"\/tutorials\/composablearchitecture\/testingsyncupformpresentation#Non-exhaustive-testing","type":"section","abstract":[{"text":"We have now integrated two moderately complex features, the ","type":"text"},{"code":"SyncUpsList","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"SyncUpForm","type":"codeVoice"},{"type":"text","text":", and"},{"type":"text","text":" "},{"text":"so its time to write some tests. This will give us the opportunity to prove that the features","type":"text"},{"type":"text","text":" "},{"type":"text","text":"work in tandem as we expect, and we will explore “non-exhaustive” testing to make our tests less"},{"type":"text","text":" "},{"type":"text","text":"fragile."}],"role":"pseudoSymbol","title":"Non-exhaustive testing"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/PresentingSyncUpForm#Adding-a-new-sync-up-to-the-list":{"url":"\/tutorials\/composablearchitecture\/presentingsyncupform#Adding-a-new-sync-up-to-the-list","abstract":[{"type":"text","text":"We now have two features built: the sync-ups list and the sync-up form. These features do not"},{"text":" ","type":"text"},{"type":"text","text":"exist in isolation, but rather are meant to be integrated in a deep way. One should be able to"},{"type":"text","text":" "},{"type":"text","text":"navigate to the sync-up form from the list view, enter the details of a new sync-up, and then"},{"text":" ","type":"text"},{"text":"add that sync-up to the root list.","type":"text"}],"role":"pseudoSymbol","title":"Adding a new sync-up to the list","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PresentingSyncUpForm#Adding-a-new-sync-up-to-the-list","kind":"section"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ImplementingSpeechRecognizer#Asking-for-speech-recognition-permission":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingSpeechRecognizer#Asking-for-speech-recognition-permission","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/implementingspeechrecognizer#Asking-for-speech-recognition-permission","abstract":[{"type":"text","text":"We have just one feature left to implement, and it’s one of the most complicated ones. We need"},{"type":"text","text":" "},{"type":"text","text":"to use Apple’s "},{"code":"SFSpeechRecognizer","type":"codeVoice"},{"type":"text","text":" API to ask the user for permission to transcribe their"},{"text":" ","type":"text"},{"type":"text","text":"audio, and then start a speech recognition task to live transcribe the meeting while it is"},{"text":" ","type":"text"},{"text":"in progress.","type":"text"}],"title":"Asking for speech recognition permission","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ListsOfSyncUps":{"url":"\/tutorials\/composablearchitecture\/listsofsyncups","abstract":[{"type":"text","text":"We will begin building the SyncUps app from scratch by implementing the feature that powers the"},{"type":"text","text":" "},{"type":"text","text":"list of sync-ups. It starts out as a simple feature, but it will become increasingly complex as"},{"text":" ","type":"text"},{"text":"the app evolves.","type":"text"}],"role":"project","estimatedTime":"10min","title":"Lists of sync-ups","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ListsOfSyncUps","kind":"project"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/WhatIsSyncUps#Create-the-SyncUps-project":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/WhatIsSyncUps#Create-the-SyncUps-project","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/whatissyncups#Create-the-SyncUps-project","abstract":[{"type":"text","text":"Let’s start with a tour of the application we will be building. It’s called SyncUps, and it’s a"},{"text":" ","type":"text"},{"text":"recreation of Apple’s Scrumdinger demo application.","type":"text"}],"title":"Create the SyncUps project","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingListOfSyncUps#Writing-your-first-test":{"abstract":[{"type":"text","text":"The SyncUpsList feature we have built so far isn’t very complex. In fact, it only has one"},{"type":"text","text":" "},{"text":"primary action, that of deleting sync-ups from its collection. However, it can be good practice","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to test new features as you add them, and in the future we will have much more complicated"},{"type":"text","text":" "},{"type":"text","text":"behavior to test."}],"title":"Writing your first test","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingListOfSyncUps#Writing-your-first-test","url":"\/tutorials\/composablearchitecture\/testinglistofsyncups#Writing-your-first-test","kind":"section","role":"pseudoSymbol"},"EditingAndDeletingSyncUp-03-code-0011.swift":{"type":"file","highlights":[{"line":60},{"line":61}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0011.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case destination(PresentationAction<Destination.Action>)","    case doneEditingButtonTapped","    case editButtonTapped","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      \/\/ case .alert(.presented(.confirmButtonTapped)):","      case .destination(.presented(.alert(.confirmButtonTapped))):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .destination:","        return .none","","      case .cancelEditButtonTapped:","        state.destination = nil","        return .none","","      case .deleteButtonTapped:","        state.destination = .alert(.deleteSyncUp)","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.destination?.edit?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.destination = nil","        return .none","","      case .editButtonTapped:","        \/\/ state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        state.destination = .edit(SyncUpForm.State(syncUp: state.syncUp))","        return .none","      }","    }","    .ifLet(\\.$destination, action: \\.destination)","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ListsOfSyncUps#SyncUpsList-feature":{"url":"\/tutorials\/composablearchitecture\/listsofsyncups#SyncUpsList-feature","abstract":[{"text":"We will begin building the SyncUps app from scratch by implementing the feature that powers the","type":"text"},{"type":"text","text":" "},{"text":"list of sync-ups. It starts out as a simple feature, but it will become increasingly complex as","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the app evolves."}],"role":"pseudoSymbol","title":"SyncUpsList feature","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ListsOfSyncUps#SyncUpsList-feature","kind":"section"},"EditingAndDeletingSyncUp-03-code-0007.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case destination(PresentationAction<Destination.Action>)","    case doneEditingButtonTapped","    case editButtonTapped","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      \/\/ case .alert(.presented(.confirmButtonTapped)):","      case .destination(.presented(.alert(.confirmButtonTapped))):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .destination:","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .delegate:","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","      }","    }","    .ifLet(\\.$destination, action: \\.destination)","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":41}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0007.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ImplementingTimer":{"estimatedTime":"25min","type":"topic","url":"\/tutorials\/composablearchitecture\/implementingtimer","kind":"project","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer","abstract":[{"type":"text","text":"The first major piece of logic and behavior we will introduce to the record meeting feature is"},{"text":" ","type":"text"},{"type":"text","text":"the timer. This is a long-living effect that runs in parallel with the rest of the feature, and"},{"type":"text","text":" "},{"text":"we need to implement nuanced logic to figure out when to proceed to the next speaker.","type":"text"}],"role":"project","title":"Adding a meeting timer"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/Reducer":{"abstract":[{"type":"text","text":"A protocol that describes how to evolve the current state of an application to the next state,"},{"text":" ","type":"text"},{"type":"text","text":"given an action, and describes what "},{"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Effect","isActive":true},{"type":"text","text":"s should be executed later by the store, if any."}],"role":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"Reducer"}],"navigatorTitle":[{"kind":"identifier","text":"Reducer"}],"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Reducer","url":"\/documentation\/composablearchitecture\/reducer","type":"topic","title":"Reducer","kind":"symbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/RecordMeetingFeature#Create-a-new-feature":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/RecordMeetingFeature#Create-a-new-feature","kind":"section","url":"\/tutorials\/composablearchitecture\/recordmeetingfeature#Create-a-new-feature","type":"section","abstract":[{"text":"Let’s get the basics of a new feature into place that we can navigate to, and then we will","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"slowly layer on its complex logic and behavior, such as the timer and speech recognizer."}],"role":"pseudoSymbol","title":"Create a new feature"},"EditingAndDeletingSyncUp-01-code-0003.swift":{"type":"file","highlights":[{"line":26},{"line":27},{"line":28},{"line":31},{"line":32},{"line":33}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0003.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case deleteButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .deleteButtonTapped:","        return .none","","      case .editButtonTapped:","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"EditingAndDeletingSyncUp-02-code-0013.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert(.presented(.confirmButtonTapped)):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .alert(.dismiss):","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}",""],"highlights":[{"line":34}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0013.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/PresentingSyncUpForm#Integrating-the-feature-views-together":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PresentingSyncUpForm#Integrating-the-feature-views-together","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/presentingsyncupform#Integrating-the-feature-views-together","abstract":[{"type":"text","text":"We now have two features built: the sync-ups list and the sync-up form. These features do not"},{"text":" ","type":"text"},{"type":"text","text":"exist in isolation, but rather are meant to be integrated in a deep way. One should be able to"},{"type":"text","text":" "},{"type":"text","text":"navigate to the sync-up form from the list view, enter the details of a new sync-up, and then"},{"text":" ","type":"text"},{"text":"add that sync-up to the root list.","type":"text"}],"title":"Integrating the feature views together","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpForm#Sync-up-form-basics":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpForm#Sync-up-form-basics","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/syncupform#Sync-up-form-basics","abstract":[{"text":"We will create a new feature with the Composable Architecture that is capable of editing the","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"details of a new sync-up. We will also add some nuanced logic around how focus moves through the"},{"type":"text","text":" "},{"type":"text","text":"feature to make things a little more interesting."}],"title":"Sync-up form basics","role":"pseudoSymbol"},"EditingAndDeletingSyncUp-01-code-0002.swift":{"type":"file","highlights":[{"line":15}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0002.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case deleteButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .deleteButtonTapped:","        return .none","","      case .editButtonTapped:","        return .none","      }","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/EditingAndDeletingSyncUp#Deleting-the-sync-up":{"url":"\/tutorials\/composablearchitecture\/editinganddeletingsyncup#Deleting-the-sync-up","abstract":[{"type":"text","text":"Let’s implement two major pieces of functionality in the detail screen: editing the sync-up and"},{"text":" ","type":"text"},{"text":"deleting the sync-up. This will force us to face a number of common problems in app development","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"all at once, including view reuse, navigation, alerts, and parent-child communication patterns."}],"role":"pseudoSymbol","title":"Deleting the sync-up","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/EditingAndDeletingSyncUp#Deleting-the-sync-up","kind":"section"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ImplementingSpeechRecognizer":{"url":"\/tutorials\/composablearchitecture\/implementingspeechrecognizer","abstract":[{"type":"text","text":"We have just one feature left to implement, and it’s one of the most complicated ones. We need"},{"type":"text","text":" "},{"type":"text","text":"to use Apple’s "},{"type":"codeVoice","code":"SFSpeechRecognizer"},{"type":"text","text":" API to ask the user for permission to transcribe their"},{"text":" ","type":"text"},{"text":"audio, and then start a speech recognition task to live transcribe the meeting while it is","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"in progress."}],"role":"project","estimatedTime":"10min","title":"Adding a speech recognizer","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingSpeechRecognizer","kind":"project"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpForm#Form-focus-an-approach":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpForm#Form-focus-an-approach","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/syncupform#Form-focus-an-approach","abstract":[{"type":"text","text":"We will create a new feature with the Composable Architecture that is capable of editing the"},{"text":" ","type":"text"},{"type":"text","text":"details of a new sync-up. We will also add some nuanced logic around how focus moves through the"},{"type":"text","text":" "},{"type":"text","text":"feature to make things a little more interesting."}],"title":"Form focus: an approach","role":"pseudoSymbol"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/PersistenceReaderKey/fileStorage(_:decoder:encoder:)":{"fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"fileStorage"},{"kind":"text","text":"<"},{"text":"Value","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"URL","kind":"typeIdentifier","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":", "},{"text":"decoder","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10Foundation11JSONDecoderC","text":"JSONDecoder","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"encoder","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"JSONEncoder","kind":"typeIdentifier","preciseIdentifier":"s:10Foundation11JSONEncoderC"},{"text":") -> ","kind":"text"},{"kind":"typeIdentifier","text":"Self"}],"type":"topic","url":"\/documentation\/composablearchitecture\/persistencereaderkey\/filestorage(_:decoder:encoder:)","kind":"symbol","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PersistenceReaderKey\/fileStorage(_:decoder:encoder:)","abstract":[{"text":"Creates a persistence key that can read and write to a ","type":"text"},{"type":"codeVoice","code":"Codable"},{"type":"text","text":" value in the file system."}],"role":"symbol","title":"fileStorage(_:decoder:encoder:)"},"EditingAndDeletingSyncUp-01-code-0006.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  \/\/ ...","}","","struct SyncUpDetailView: View {","  @Bindable var store: StoreOf<SyncUpDetail>","","  var body: some View {","    Form {","      Section {","        NavigationLink {","        } label: {","          Label(\"Start Meeting\", systemImage: \"timer\")","            .font(.headline)","            .foregroundColor(.accentColor)","        }","        HStack {","          Label(\"Length\", systemImage: \"clock\")","          Spacer()","          Text(store.syncUp.duration.formatted(.units()))","        }","","        HStack {","          Label(\"Theme\", systemImage: \"paintpalette\")","          Spacer()","          Text(store.syncUp.theme.name)","            .padding(4)","            .foregroundColor(store.syncUp.theme.accentColor)","            .background(store.syncUp.theme.mainColor)","            .cornerRadius(4)","        }","      } header: {","        Text(\"Sync-up Info\")","      }","","      if !store.syncUp.meetings.isEmpty {","        Section {","          ForEach(store.syncUp.meetings) { meeting in","            Button {","            } label: {","              HStack {","                Image(systemName: \"calendar\")","                Text(meeting.date, style: .date)","                Text(meeting.date, style: .time)","              }","            }","          }","        } header: {","          Text(\"Past meetings\")","        }","      }","","      Section {","        ForEach(store.syncUp.attendees) { attendee in","          Label(attendee.name, systemImage: \"person\")","        }","      } header: {","        Text(\"Attendees\")","      }","","      Section {","        Button(\"Delete\") {","          store.send(.deleteButtonTapped)","        }","        .foregroundColor(.red)","        .frame(maxWidth: .infinity)","      }","    }","    .navigationTitle(Text(store.syncUp.title))","    .toolbar {","      Button(\"Edit\") {","        store.send(.editButtonTapped)","      }","    }","    .sheet(item: $store.scope(state: \\.editSyncUp, action: \\.editSyncUp)) { editSyncUpStore in","      NavigationStack {","        SyncUpFormView(store: editSyncUpStore)","      }","    }","  }","}","","#Preview {","  NavigationStack {","    SyncUpDetailView(","      store: Store(","        initialState: SyncUpDetail.State(","          syncUp: Shared(.mock)","        )","      ) {","        SyncUpDetail()","      }","    )","  }","}"],"highlights":[{"line":79},{"line":80},{"line":81},{"line":82},{"line":83}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0006.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/PresentingSyncUpForm":{"estimatedTime":"10min","type":"topic","url":"\/tutorials\/composablearchitecture\/presentingsyncupform","kind":"project","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PresentingSyncUpForm","abstract":[{"type":"text","text":"We now have two features built: the sync-ups list and the sync-up form. These features do not"},{"type":"text","text":" "},{"text":"exist in isolation, but rather are meant to be integrated in a deep way. One should be able to","type":"text"},{"type":"text","text":" "},{"type":"text","text":"navigate to the sync-up form from the list view, enter the details of a new sync-up, and then"},{"type":"text","text":" "},{"type":"text","text":"add that sync-up to the root list."}],"role":"project","title":"Presenting the sync-up form"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingNavigation":{"url":"\/tutorials\/composablearchitecture\/testingnavigation","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingNavigation","kind":"project","abstract":[{"type":"text","text":"We have now implemented a navigation stack at the root of our application, and integrated"},{"type":"text","text":" "},{"type":"text","text":"3 features into the stack: the "},{"code":"SyncUpsList","type":"codeVoice"},{"type":"text","text":" feature, the "},{"code":"SyncUpDetail","type":"codeVoice"},{"type":"text","text":" feature, and the"},{"text":" ","type":"text"},{"type":"codeVoice","code":"MeetingView"},{"text":". Some of these features have quite complex logic binding them together, such as","type":"text"},{"type":"text","text":" "},{"type":"text","text":"when one deletes a sync-up from the detail screen it should pop the screen off the stack."}],"role":"project","title":"Testing navigation","estimatedTime":"10min"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ListsOfSyncUps#A-handy-debugging-tool":{"url":"\/tutorials\/composablearchitecture\/listsofsyncups#A-handy-debugging-tool","abstract":[{"type":"text","text":"We will begin building the SyncUps app from scratch by implementing the feature that powers the"},{"type":"text","text":" "},{"type":"text","text":"list of sync-ups. It starts out as a simple feature, but it will become increasingly complex as"},{"type":"text","text":" "},{"type":"text","text":"the app evolves."}],"role":"pseudoSymbol","title":"A handy debugging tool","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ListsOfSyncUps#A-handy-debugging-tool","kind":"section"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpForm#Form-focus-a-better-approach":{"abstract":[{"type":"text","text":"We will create a new feature with the Composable Architecture that is capable of editing the"},{"type":"text","text":" "},{"text":"details of a new sync-up. We will also add some nuanced logic around how focus moves through the","type":"text"},{"type":"text","text":" "},{"type":"text","text":"feature to make things a little more interesting."}],"title":"Form focus: a better approach","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpForm#Form-focus-a-better-approach","url":"\/tutorials\/composablearchitecture\/syncupform#Form-focus-a-better-approach","kind":"section","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpForm":{"url":"\/tutorials\/composablearchitecture\/syncupform","abstract":[{"type":"text","text":"We will create a new feature with the Composable Architecture that is capable of editing the"},{"type":"text","text":" "},{"type":"text","text":"details of a new sync-up. We will also add some nuanced logic around how focus moves through the"},{"text":" ","type":"text"},{"type":"text","text":"feature to make things a little more interesting."}],"role":"project","estimatedTime":"15min","title":"Sync-up form","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpForm","kind":"project"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/RecordMeetingFeature#Navigating-to-the-record-meeting-feature":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/RecordMeetingFeature#Navigating-to-the-record-meeting-feature","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/recordmeetingfeature#Navigating-to-the-record-meeting-feature","abstract":[{"type":"text","text":"Let’s get the basics of a new feature into place that we can navigate to, and then we will"},{"text":" ","type":"text"},{"text":"slowly layer on its complex logic and behavior, such as the timer and speech recognizer.","type":"text"}],"title":"Navigating to the record meeting feature","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/BuildingSyncUps":{"role":"overview","kind":"overview","abstract":[{"text":"The SyncUps application is a recreation of one of Apple’s more interesting demo applications,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Scrumdinger. We recreate it from scratch using the Composable Architecture, with a focus on"},{"type":"text","text":" "},{"type":"text","text":"domain modeling, controlling dependencies, and testability."}],"type":"topic","title":"Building SyncUps","url":"\/tutorials\/buildingsyncups","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps"},"EditingAndDeletingSyncUp-03-code-0009.swift":{"type":"file","highlights":[{"line":40},{"line":49},{"line":50}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0009.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case destination(PresentationAction<Destination.Action>)","    case doneEditingButtonTapped","    case editButtonTapped","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      \/\/ case .alert(.presented(.confirmButtonTapped)):","      case .destination(.presented(.alert(.confirmButtonTapped))):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","        ","      case .destination:","        return .none","","      case .cancelEditButtonTapped:","        state.destination = nil","        return .none","","      case .deleteButtonTapped:","        \/\/ state.alert = .deleteSyncUp","        state.destination = .alert(.deleteSyncUp)","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","      }","    }","    .ifLet(\\.$destination, action: \\.destination)","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/PersistingSyncUps#Testing-persistence":{"abstract":[{"type":"text","text":"Now that we have the ability to add and remove sync-ups from the application, let’s add some"},{"text":" ","type":"text"},{"text":"persistence. This will involve using the “shared state” tools from the library, such as","type":"text"},{"text":" ","type":"text"},{"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Shared","overridingTitle":"@Shared","overridingTitleInlineContent":[{"type":"codeVoice","code":"@Shared"}],"isActive":true},{"text":" and ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PersistenceReaderKey\/fileStorage(_:decoder:encoder:)"},{"type":"text","text":"."}],"type":"section","url":"\/tutorials\/composablearchitecture\/persistingsyncups#Testing-persistence","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PersistingSyncUps#Testing-persistence","kind":"section","title":"Testing persistence","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ImplementingTimer#Controlling-dependencies-early":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer#Controlling-dependencies-early","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/implementingtimer#Controlling-dependencies-early","abstract":[{"text":"The first major piece of logic and behavior we will introduce to the record meeting feature is","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the timer. This is a long-living effect that runs in parallel with the rest of the feature, and"},{"text":" ","type":"text"},{"type":"text","text":"we need to implement nuanced logic to figure out when to proceed to the next speaker."}],"title":"Controlling dependencies early","role":"pseudoSymbol"},"EditingAndDeletingSyncUp-03-code-0010.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case destination(PresentationAction<Destination.Action>)","    case doneEditingButtonTapped","    case editButtonTapped","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      \/\/ case .alert(.presented(.confirmButtonTapped)):","      case .destination(.presented(.alert(.confirmButtonTapped))):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .destination:","        return .none","","      case .cancelEditButtonTapped:","        state.destination = nil","        return .none","","      case .deleteButtonTapped:","        state.destination = .alert(.deleteSyncUp)","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.destination?.edit?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.destination = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","      }","    }","    .ifLet(\\.$destination, action: \\.destination)","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":40},{"line":53},{"line":56}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0010.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ImplementingTimer#Ending-the-meeting-early":{"url":"\/tutorials\/composablearchitecture\/implementingtimer#Ending-the-meeting-early","abstract":[{"text":"The first major piece of logic and behavior we will introduce to the record meeting feature is","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the timer. This is a long-living effect that runs in parallel with the rest of the feature, and"},{"type":"text","text":" "},{"text":"we need to implement nuanced logic to figure out when to proceed to the next speaker.","type":"text"}],"role":"pseudoSymbol","title":"Ending the meeting early","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ImplementingTimer#Ending-the-meeting-early","kind":"section"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/PresentingSyncUpForm#Integrating-the-feature-domains-together":{"abstract":[{"type":"text","text":"We now have two features built: the sync-ups list and the sync-up form. These features do not"},{"text":" ","type":"text"},{"text":"exist in isolation, but rather are meant to be integrated in a deep way. One should be able to","type":"text"},{"type":"text","text":" "},{"text":"navigate to the sync-up form from the list view, enter the details of a new sync-up, and then","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"add that sync-up to the root list."}],"title":"Integrating the feature domains together","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PresentingSyncUpForm#Integrating-the-feature-domains-together","url":"\/tutorials\/composablearchitecture\/presentingsyncupform#Integrating-the-feature-domains-together","kind":"section","role":"pseudoSymbol"},"EditingAndDeletingSyncUp-03-code-0005.swift":{"type":"file","highlights":[{"line":54},{"line":55},{"line":56},{"line":69},{"line":70},{"line":71},{"line":72},{"line":73}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0005.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case destination(PresentationAction<Destination.Action>)","    case doneEditingButtonTapped","    case editButtonTapped","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert(.presented(.confirmButtonTapped)):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .alert(.dismiss):","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .delegate:","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .destination:","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","      }","    }","    \/\/ .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","    \/\/   SyncUpForm()","    \/\/ }","    \/\/ .ifLet(\\.$alert, action: \\.alert)","    .ifLet(\\.$destination, action: \\.destination)","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingSyncUpFormPresentation":{"url":"\/tutorials\/composablearchitecture\/testingsyncupformpresentation","abstract":[{"type":"text","text":"We have now integrated two moderately complex features, the "},{"code":"SyncUpsList","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"SyncUpForm"},{"text":", and","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"so its time to write some tests. This will give us the opportunity to prove that the features"},{"type":"text","text":" "},{"type":"text","text":"work in tandem as we expect, and we will explore “non-exhaustive” testing to make our tests less"},{"text":" ","type":"text"},{"type":"text","text":"fragile."}],"role":"project","estimatedTime":"10min","title":"Testing the add sync-up flow","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpFormPresentation","kind":"project"},"doc://ComposableArchitecture/tutorials/BuildingSyncUps/Presenting-the-sync-up-form":{"url":"\/tutorials\/buildingsyncups\/presenting-the-sync-up-form","abstract":[],"role":"article","title":"Presenting the sync-up form","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Presenting-the-sync-up-form","kind":"article"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/EditingAndDeletingSyncUp#Editing-the-sync-up":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/EditingAndDeletingSyncUp#Editing-the-sync-up","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/editinganddeletingsyncup#Editing-the-sync-up","abstract":[{"text":"Let’s implement two major pieces of functionality in the detail screen: editing the sync-up and","type":"text"},{"type":"text","text":" "},{"type":"text","text":"deleting the sync-up. This will force us to face a number of common problems in app development"},{"type":"text","text":" "},{"text":"all at once, including view reuse, navigation, alerts, and parent-child communication patterns.","type":"text"}],"title":"Editing the sync-up","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/RecordMeetingFeature":{"url":"\/tutorials\/composablearchitecture\/recordmeetingfeature","abstract":[{"type":"text","text":"Let’s get the basics of a new feature into place that we can navigate to, and then we will"},{"text":" ","type":"text"},{"type":"text","text":"slowly layer on its complex logic and behavior, such as the timer and speech recognizer."}],"role":"project","estimatedTime":"5min","title":"The RecordMeeting feature","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/RecordMeetingFeature","kind":"project"},"doc://ComposableArchitecture/tutorials/BuildingSyncUps/Lists-of-sync-ups":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Lists-of-sync-ups","type":"topic","kind":"article","url":"\/tutorials\/buildingsyncups\/lists-of-sync-ups","abstract":[],"title":"Lists of sync-ups","role":"article"},"EditingAndDeletingSyncUp-03-code-0013.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  \/\/ ...","}","","struct SyncUpDetailView: View {","  @Bindable var store: StoreOf<SyncUpDetail>","","  var body: some View {","    Form {","      Section {","        NavigationLink {","        } label: {","          Label(\"Start Meeting\", systemImage: \"timer\")","            .font(.headline)","            .foregroundColor(.accentColor)","        }","        HStack {","          Label(\"Length\", systemImage: \"clock\")","          Spacer()","          Text(store.syncUp.duration.formatted(.units()))","        }","","        HStack {","          Label(\"Theme\", systemImage: \"paintpalette\")","          Spacer()","          Text(store.syncUp.theme.name)","            .padding(4)","            .foregroundColor(store.syncUp.theme.accentColor)","            .background(store.syncUp.theme.mainColor)","            .cornerRadius(4)","        }","      } header: {","        Text(\"Sync-up Info\")","      }","","      if !store.syncUp.meetings.isEmpty {","        Section {","          ForEach(store.syncUp.meetings) { meeting in","            Button {","            } label: {","              HStack {","                Image(systemName: \"calendar\")","                Text(meeting.date, style: .date)","                Text(meeting.date, style: .time)","              }","            }","          }","        } header: {","          Text(\"Past meetings\")","        }","      }","","      Section {","        ForEach(store.syncUp.attendees) { attendee in","          Label(attendee.name, systemImage: \"person\")","        }","      } header: {","        Text(\"Attendees\")","      }","","      Section {","        Button(\"Delete\") {","          store.send(.deleteButtonTapped)","        }","        .foregroundColor(.red)","        .frame(maxWidth: .infinity)","      }","    }","    .toolbar {","      Button(\"Edit\") {","        store.send(.editButtonTapped)","      }","    }","    .navigationTitle(Text(store.syncUp.title))","    .alert($store.scope(state: \\.destination?.alert, action: \\.destination.alert))","    .sheet(","      item: $store.scope(state: \\.destination?.edit, action: \\.destination.edit)","    ) { editSyncUpStore in","      NavigationStack {","        SyncUpFormView(store: editSyncUpStore)","          .navigationTitle(store.syncUp.title)","          .toolbar {","            ToolbarItem(placement: .cancellationAction) {","              Button(\"Cancel\") {","                store.send(.cancelEditButtonTapped)","              }","            }","            ToolbarItem(placement: .confirmationAction) {","              Button(\"Done\") {","                store.send(.doneEditingButtonTapped)","              }","            }","          }","      }","    }","  }","}","","#Preview {","  NavigationStack {","    SyncUpDetailView(","      store: Store(","        initialState: SyncUpDetail.State(","          syncUp: Shared(.mock)","        )","      ) {","        SyncUpDetail()","      }","    )","  }","}"],"highlights":[{"line":78},{"line":79},{"line":80},{"line":81},{"line":82}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0013.swift"},"EditingAndDeletingSyncUp-01-code-0010.swift":{"type":"file","highlights":[{"line":23},{"line":24},{"line":25},{"line":26}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0010.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpDetailNavigation":{"estimatedTime":"20min","type":"topic","url":"\/tutorials\/composablearchitecture\/syncupdetailnavigation","kind":"project","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetailNavigation","abstract":[{"type":"text","text":"We will wrap the application built so far in a "},{"type":"codeVoice","code":"NavigationStack"},{"type":"text","text":" so that we can navigate to"},{"type":"text","text":" "},{"text":"the detail screen. To do this we will create a new root-level feature that will be responsible","type":"text"},{"type":"text","text":" "},{"type":"text","text":"for implementing the logic of the stack and integrating all of the features together."}],"role":"project","title":"Navigating to a sync-up detail"},"EditingAndDeletingSyncUp-02-code-0008.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert(.presented(.confirmButtonTapped)):","        ","      case .alert(.dismiss):","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":29},{"line":31},{"line":32}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0008.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/MeetingNavigation#Navigate-to-a-meeting":{"abstract":[{"type":"text","text":"Now that we have a navigation stack in place we can start navigating to other features in the"},{"text":" ","type":"text"},{"text":"application. The simplest is the meeting screen, which allows you to see the details of a","type":"text"},{"text":" ","type":"text"},{"text":"previous recorded meeting.","type":"text"}],"title":"Navigate to a meeting","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/MeetingNavigation#Navigate-to-a-meeting","url":"\/tutorials\/composablearchitecture\/meetingnavigation#Navigate-to-a-meeting","kind":"section","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/EditingAndDeletingSyncUp#More-concise-domain-modeling":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/EditingAndDeletingSyncUp#More-concise-domain-modeling","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/editinganddeletingsyncup#More-concise-domain-modeling","abstract":[{"type":"text","text":"Let’s implement two major pieces of functionality in the detail screen: editing the sync-up and"},{"type":"text","text":" "},{"text":"deleting the sync-up. This will force us to face a number of common problems in app development","type":"text"},{"type":"text","text":" "},{"text":"all at once, including view reuse, navigation, alerts, and parent-child communication patterns.","type":"text"}],"title":"More concise domain modeling","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingSyncUpForm#Adding-attendees":{"url":"\/tutorials\/composablearchitecture\/testingsyncupform#Adding-attendees","abstract":[{"text":"We now have a moderately complex feature for editing the details of a sync-up, the ","type":"text"},{"type":"codeVoice","code":"SyncUpForm"},{"type":"text","text":" "},{"text":"reducer. Let’s get some test coverage on the feature, and doing so will force us to come","type":"text"},{"type":"text","text":" "},{"type":"text","text":"face-to-face with dependencies for the first time in this tutorial."}],"role":"pseudoSymbol","title":"Adding attendees","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpForm#Adding-attendees","kind":"section"},"EditingAndDeletingSyncUp-03-code-0001.swift":{"syntax":"swift","fileName":"SyncUpDetail.swift","identifier":"EditingAndDeletingSyncUp-03-code-0001.swift","fileType":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","  }","  \/\/ ...","}","extension SyncUpDetail.Destination.State: Equatable {}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":6},{"line":7},{"line":8},{"line":11}],"type":"file"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/Effect/run(priority:operation:catch:fileID:filePath:line:column:)":{"url":"\/documentation\/composablearchitecture\/effect\/run(priority:operation:catch:fileid:filepath:line:column:)","role":"symbol","title":"run(priority:operation:catch:fileID:filePath:line:column:)","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"run","kind":"identifier"},{"text":"(","kind":"text"},{"text":"priority","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"TaskPriority","preciseIdentifier":"s:ScP"},{"text":"?, ","kind":"text"},{"text":"operation","kind":"externalParam"},{"text":": (","kind":"text"},{"text":"Send","preciseIdentifier":"s:22ComposableArchitecture4SendV","kind":"typeIdentifier"},{"kind":"text","text":"<"},{"text":"Action","kind":"typeIdentifier"},{"text":">) ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"catch"},{"text":": ((any ","kind":"text"},{"preciseIdentifier":"s:s5ErrorP","kind":"typeIdentifier","text":"Error"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Send","preciseIdentifier":"s:22ComposableArchitecture4SendV"},{"text":"<","kind":"text"},{"text":"Action","kind":"typeIdentifier"},{"kind":"text","text":">) "},{"text":"async","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":")?, ","kind":"text"},{"text":"fileID","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:s12StaticStringV","text":"StaticString","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"filePath"},{"text":": ","kind":"text"},{"text":"StaticString","preciseIdentifier":"s:s12StaticStringV","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"line"},{"kind":"text","text":": "},{"text":"UInt","kind":"typeIdentifier","preciseIdentifier":"s:Su"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"column"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Su","text":"UInt","kind":"typeIdentifier"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:22ComposableArchitecture6EffectV","text":"Effect"},{"text":"<","kind":"text"},{"text":"Action","kind":"typeIdentifier"},{"text":">","kind":"text"}],"abstract":[{"type":"text","text":"Wraps an asynchronous unit of work that can emit actions any number of times in an effect."}],"kind":"symbol","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Effect\/run(priority:operation:catch:fileID:filePath:line:column:)","type":"topic"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/DismissEffect":{"type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"kind":"identifier","text":"DismissEffect"}],"abstract":[{"text":"An effect that dismisses the current presentation.","type":"text"}],"url":"\/documentation\/composablearchitecture\/dismisseffect","role":"symbol","kind":"symbol","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/DismissEffect","navigatorTitle":[{"text":"DismissEffect","kind":"identifier"}],"title":"DismissEffect"},"EditingAndDeletingSyncUp-03-code-0006.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case destination(PresentationAction<Destination.Action>)","    case doneEditingButtonTapped","    case editButtonTapped","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      \/\/ case .alert(.presented(.confirmButtonTapped)):","      case .destination(.presented(.alert(.confirmButtonTapped))):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .alert(.dismiss):","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .delegate:","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .destination:","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","      }","    }","    .ifLet(\\.$destination, action: \\.destination)","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":35},{"line":36}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0006.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingSyncUpFormPresentation#Adding-a-sync-up":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpFormPresentation#Adding-a-sync-up","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/testingsyncupformpresentation#Adding-a-sync-up","abstract":[{"type":"text","text":"We have now integrated two moderately complex features, the "},{"code":"SyncUpsList","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"SyncUpForm"},{"type":"text","text":", and"},{"text":" ","type":"text"},{"type":"text","text":"so its time to write some tests. This will give us the opportunity to prove that the features"},{"type":"text","text":" "},{"type":"text","text":"work in tandem as we expect, and we will explore “non-exhaustive” testing to make our tests less"},{"type":"text","text":" "},{"type":"text","text":"fragile."}],"title":"Adding a sync-up","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/WhatIsSyncUps":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/WhatIsSyncUps","kind":"project","url":"\/tutorials\/composablearchitecture\/whatissyncups","type":"topic","abstract":[{"text":"Let’s start with a tour of the application we will be building. It’s called SyncUps, and it’s a","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"recreation of Apple’s Scrumdinger demo application."}],"role":"project","title":"What is SyncUps?","estimatedTime":"5min"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/Reducer/ifLet(_:action:destination:fileID:filePath:line:column:)-4ub6q":{"url":"\/documentation\/composablearchitecture\/reducer\/iflet(_:action:destination:fileid:filepath:line:column:)-4ub6q","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Reducer\/ifLet(_:action:destination:fileID:filePath:line:column:)-4ub6q","abstract":[{"text":"Embeds a child reducer in a parent domain that works on an optional property of parent state.","type":"text"}],"title":"ifLet(_:action:destination:fileID:filePath:line:column:)","kind":"symbol","type":"topic","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ifLet","kind":"identifier"},{"kind":"text","text":"<"},{"text":"DestinationState","kind":"genericParameter"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"DestinationAction"},{"text":", ","kind":"text"},{"text":"Destination","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"WritableKeyPath","kind":"typeIdentifier","preciseIdentifier":"s:s15WritableKeyPathC"},{"text":"<","kind":"text"},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"."},{"text":"State","kind":"typeIdentifier","preciseIdentifier":"s:22ComposableArchitecture7ReducerP5StateQa"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"PresentationState","preciseIdentifier":"s:22ComposableArchitecture17PresentationStateV"},{"text":"<","kind":"text"},{"text":"DestinationState","kind":"typeIdentifier"},{"kind":"text","text":">>, "},{"kind":"externalParam","text":"action"},{"kind":"text","text":": "},{"text":"CaseKeyPath","preciseIdentifier":"s:9CasePaths0A7KeyPatha","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"kind":"typeIdentifier","text":"Self"},{"text":".","kind":"text"},{"text":"Action","kind":"typeIdentifier","preciseIdentifier":"s:22ComposableArchitecture7ReducerP6ActionQa"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"PresentationAction","preciseIdentifier":"s:22ComposableArchitecture18PresentationActionO"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"DestinationAction"},{"text":">>, ","kind":"text"},{"kind":"externalParam","text":"destination"},{"text":": () -> ","kind":"text"},{"kind":"typeIdentifier","text":"Destination"},{"kind":"text","text":", "},{"kind":"externalParam","text":"fileID"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"StaticString","preciseIdentifier":"s:s12StaticStringV"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"filePath"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:s12StaticStringV","text":"StaticString"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"line"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:Su","text":"UInt"},{"text":", ","kind":"text"},{"text":"column","kind":"externalParam"},{"kind":"text","text":": "},{"text":"UInt","kind":"typeIdentifier","preciseIdentifier":"s:Su"},{"kind":"text","text":") -> "},{"kind":"keyword","text":"some"},{"text":" ","kind":"text"},{"text":"Reducer","kind":"typeIdentifier","preciseIdentifier":"s:22ComposableArchitecture7ReducerP"},{"kind":"text","text":"<"},{"text":"Self","kind":"typeIdentifier"},{"kind":"text","text":"."},{"preciseIdentifier":"s:22ComposableArchitecture7ReducerP5StateQa","text":"State","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"."},{"preciseIdentifier":"s:22ComposableArchitecture7ReducerP6ActionQa","text":"Action","kind":"typeIdentifier"},{"kind":"text","text":">\n"}]},"EditingAndDeletingSyncUp-02-code-0007.swift":{"type":"file","highlights":[{"line":37},{"line":62},{"line":63},{"line":64},{"line":65},{"line":66},{"line":67},{"line":68},{"line":69},{"line":70},{"line":71},{"line":72},{"line":73},{"line":74},{"line":75},{"line":76}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0007.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert:","        return .none","        ","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpDetail#Create-the-sync-up-detail":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetail#Create-the-sync-up-detail","kind":"section","url":"\/tutorials\/composablearchitecture\/syncupdetail#Create-the-sync-up-detail","type":"section","abstract":[{"text":"The “sync-up detail” screen shows all the information of a sync-up, and has many actions that","type":"text"},{"type":"text","text":" "},{"type":"text","text":"can take place in the screen. The user can edit the sync-up, or start a new meeting in the sync"},{"type":"text","text":" "},{"type":"text","text":"up, or drill-down to a past meeting, or even delete the meeting."}],"role":"pseudoSymbol","title":"Create the sync-up detail"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/WhatIsSyncUps#A-tour-of-SyncUps":{"url":"\/tutorials\/composablearchitecture\/whatissyncups#A-tour-of-SyncUps","abstract":[{"type":"text","text":"Let’s start with a tour of the application we will be building. It’s called SyncUps, and it’s a"},{"text":" ","type":"text"},{"type":"text","text":"recreation of Apple’s Scrumdinger demo application."}],"role":"pseudoSymbol","title":"A tour of SyncUps","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/WhatIsSyncUps#A-tour-of-SyncUps","kind":"section"},"EditingAndDeletingSyncUp-03-code-0002.swift":{"fileName":"SyncUpDetail.swift","syntax":"swift","type":"file","highlights":[{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13}],"identifier":"EditingAndDeletingSyncUp-03-code-0002.swift","fileType":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","  \/\/ ...","}","extension SyncUpDetail.Destination.State: Equatable {}","","struct SyncUpDetailView: View {","  \/\/ ...","}"]},"EditingAndDeletingSyncUp-02-code-0003.swift":{"type":"file","highlights":[{"line":14}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0003.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"doc://ComposableArchitecture/tutorials/BuildingSyncUps/Sync-up-detail":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Sync-up-detail","type":"topic","kind":"article","url":"\/tutorials\/buildingsyncups\/sync-up-detail","abstract":[],"title":"Sync-up detail","role":"article"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingListOfSyncUps":{"abstract":[{"type":"text","text":"The SyncUpsList feature we have built so far isn’t very complex. In fact, it only has one"},{"type":"text","text":" "},{"type":"text","text":"primary action, that of deleting sync-ups from its collection. However, it can be good practice"},{"type":"text","text":" "},{"text":"to test new features as you add them, and in the future we will have much more complicated","type":"text"},{"type":"text","text":" "},{"type":"text","text":"behavior to test."}],"title":"Testing the list of sync-ups","type":"topic","estimatedTime":"5min","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingListOfSyncUps","url":"\/tutorials\/composablearchitecture\/testinglistofsyncups","kind":"project","role":"project"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/TestingSyncUpForm":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/TestingSyncUpForm","type":"topic","kind":"project","url":"\/tutorials\/composablearchitecture\/testingsyncupform","estimatedTime":"10min","abstract":[{"type":"text","text":"We now have a moderately complex feature for editing the details of a sync-up, the "},{"type":"codeVoice","code":"SyncUpForm"},{"type":"text","text":" "},{"type":"text","text":"reducer. Let’s get some test coverage on the feature, and doing so will force us to come"},{"type":"text","text":" "},{"text":"face-to-face with dependencies for the first time in this tutorial.","type":"text"}],"title":"Testing the sync-up form","role":"project"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/ListsOfSyncUps#Domain-models":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/ListsOfSyncUps#Domain-models","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/listsofsyncups#Domain-models","abstract":[{"type":"text","text":"We will begin building the SyncUps app from scratch by implementing the feature that powers the"},{"type":"text","text":" "},{"type":"text","text":"list of sync-ups. It starts out as a simple feature, but it will become increasingly complex as"},{"type":"text","text":" "},{"type":"text","text":"the app evolves."}],"title":"Domain models","role":"pseudoSymbol"},"EditingAndDeletingSyncUp-02-cover-480p.mov":{"variants":[{"url":"\/videos\/ComposableArchitecture\/EditingAndDeletingSyncUp-02-cover-480p.mov","traits":["1x","light"]}],"poster":null,"identifier":"EditingAndDeletingSyncUp-02-cover-480p.mov","alt":null,"type":"video"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpDetail":{"abstract":[{"type":"text","text":"The “sync-up detail” screen shows all the information of a sync-up, and has many actions that"},{"type":"text","text":" "},{"type":"text","text":"can take place in the screen. The user can edit the sync-up, or start a new meeting in the sync"},{"type":"text","text":" "},{"text":"up, or drill-down to a past meeting, or even delete the meeting.","type":"text"}],"title":"Sync-up detail","type":"topic","estimatedTime":"5min","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetail","url":"\/tutorials\/composablearchitecture\/syncupdetail","kind":"project","role":"project"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/Presents()":{"role":"symbol","title":"Presents()","abstract":[{"text":"Wraps a property with ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PresentationState"},{"type":"text","text":" and observes it."}],"fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Presents","kind":"identifier"},{"text":"()","kind":"text"}],"kind":"symbol","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Presents()","type":"topic","url":"\/documentation\/composablearchitecture\/presents()"},"doc://ComposableArchitecture/tutorials/BuildingSyncUps/Record-meeting":{"type":"topic","kind":"article","url":"\/tutorials\/buildingsyncups\/record-meeting","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Record-meeting","abstract":[],"role":"article","title":"Record meeting"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/PersistingSyncUps#Persisting-data-to-disk":{"abstract":[{"type":"text","text":"Now that we have the ability to add and remove sync-ups from the application, let’s add some"},{"type":"text","text":" "},{"text":"persistence. This will involve using the “shared state” tools from the library, such as","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Shared","overridingTitle":"@Shared","overridingTitleInlineContent":[{"type":"codeVoice","code":"@Shared"}]},{"type":"text","text":" and "},{"isActive":true,"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PersistenceReaderKey\/fileStorage(_:decoder:encoder:)"},{"text":".","type":"text"}],"title":"Persisting data to disk","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PersistingSyncUps#Persisting-data-to-disk","url":"\/tutorials\/composablearchitecture\/persistingsyncups#Persisting-data-to-disk","kind":"section","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/BuildingSyncUps/Navigating-to-sync-up-detail":{"abstract":[],"title":"Navigating to sync-up detail","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Navigating-to-sync-up-detail","url":"\/tutorials\/buildingsyncups\/navigating-to-sync-up-detail","kind":"article","role":"article"},"EditingAndDeletingSyncUp-02-code-0012.swift":{"type":"file","highlights":[{"line":26},{"line":27}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0012.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert(.presented(.confirmButtonTapped)):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .none","","      case .alert(.dismiss):","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}",""],"fileType":"swift"},"http://github.com/pointfreeco/swiftui-navigation":{"titleInlineContent":[{"text":"SwiftUINavigation","type":"text"}],"url":"http:\/\/github.com\/pointfreeco\/swiftui-navigation","title":"SwiftUINavigation","identifier":"http:\/\/github.com\/pointfreeco\/swiftui-navigation","type":"link"},"EditingAndDeletingSyncUp-02-code-0001.swift":{"type":"file","highlights":[{"line":18},{"line":19},{"line":20},{"line":21}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0001.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"EditingAndDeletingSyncUp-01-code-0008.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  \/\/ ...","}","","struct SyncUpDetailView: View {","  @Bindable var store: StoreOf<SyncUpDetail>","","  var body: some View {","    Form {","      Section {","        NavigationLink {","        } label: {","          Label(\"Start Meeting\", systemImage: \"timer\")","            .font(.headline)","            .foregroundColor(.accentColor)","        }","        HStack {","          Label(\"Length\", systemImage: \"clock\")","          Spacer()","          Text(store.syncUp.duration.formatted(.units()))","        }","","        HStack {","          Label(\"Theme\", systemImage: \"paintpalette\")","          Spacer()","          Text(store.syncUp.theme.name)","            .padding(4)","            .foregroundColor(store.syncUp.theme.accentColor)","            .background(store.syncUp.theme.mainColor)","            .cornerRadius(4)","        }","      } header: {","        Text(\"Sync-up Info\")","      }","","      if !store.syncUp.meetings.isEmpty {","        Section {","          ForEach(store.syncUp.meetings) { meeting in","            Button {","            } label: {","              HStack {","                Image(systemName: \"calendar\")","                Text(meeting.date, style: .date)","                Text(meeting.date, style: .time)","              }","            }","          }","        } header: {","          Text(\"Past meetings\")","        }","      }","","      Section {","        ForEach(store.syncUp.attendees) { attendee in","          Label(attendee.name, systemImage: \"person\")","        }","      } header: {","        Text(\"Attendees\")","      }","","      Section {","        Button(\"Delete\") {","          store.send(.deleteButtonTapped)","        }","        .foregroundColor(.red)","        .frame(maxWidth: .infinity)","      }","    }","    .navigationTitle(Text(store.syncUp.title))","    .toolbar {","      Button(\"Edit\") {","        store.send(.editButtonTapped)","      }","    }","    .sheet(item: $store.scope(state: \\.editSyncUp, action: \\.editSyncUp)) { editSyncUpStore in","      NavigationStack {","        SyncUpFormView(store: editSyncUpStore)","          .navigationTitle(store.syncUp.title)","          .toolbar {","            ToolbarItem(placement: .cancellationAction) {","              Button(\"Cancel\") {","                store.send(.cancelEditButtonTapped)","              }","            }","            ToolbarItem(placement: .confirmationAction) {","              Button(\"Done\") {","                store.send(.doneEditingButtonTapped)","              }","            }","          }","      }","  }","}","","#Preview {","  NavigationStack {","    SyncUpDetailView(","      store: Store(","        initialState: SyncUpDetail.State(","          syncUp: Shared(.mock)","        )","      ) {","        SyncUpDetail()","      }","    )","  }","}"],"highlights":[{"line":86},{"line":91}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0008.swift"},"EditingAndDeletingSyncUp-02-code-0014.swift":{"type":"file","highlights":[{"line":79}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0014.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  \/\/ ...","}","","struct SyncUpDetailView: View {","  @Bindable var store: StoreOf<SyncUpDetail>","","  var body: some View {","    Form {","      Section {","        NavigationLink {","        } label: {","          Label(\"Start Meeting\", systemImage: \"timer\")","            .font(.headline)","            .foregroundColor(.accentColor)","        }","        HStack {","          Label(\"Length\", systemImage: \"clock\")","          Spacer()","          Text(store.syncUp.duration.formatted(.units()))","        }","","        HStack {","          Label(\"Theme\", systemImage: \"paintpalette\")","          Spacer()","          Text(store.syncUp.theme.name)","            .padding(4)","            .foregroundColor(store.syncUp.theme.accentColor)","            .background(store.syncUp.theme.mainColor)","            .cornerRadius(4)","        }","      } header: {","        Text(\"Sync-up Info\")","      }","","      if !store.syncUp.meetings.isEmpty {","        Section {","          ForEach(store.syncUp.meetings) { meeting in","            Button {","            } label: {","              HStack {","                Image(systemName: \"calendar\")","                Text(meeting.date, style: .date)","                Text(meeting.date, style: .time)","              }","            }","          }","        } header: {","          Text(\"Past meetings\")","        }","      }","","      Section {","        ForEach(store.syncUp.attendees) { attendee in","          Label(attendee.name, systemImage: \"person\")","        }","      } header: {","        Text(\"Attendees\")","      }","","      Section {","        Button(\"Delete\") {","          store.send(.deleteButtonTapped)","        }","        .foregroundColor(.red)","        .frame(maxWidth: .infinity)","      }","    }","    .navigationTitle(Text(store.syncUp.title))","    .toolbar {","      Button(\"Edit\") {","        store.send(.editButtonTapped)","      }","    }","    .alert($store.scope(state: \\.alert, action: \\.alert))","    .sheet(item: $store.scope(state: \\.editSyncUp, action: \\.editSyncUp)) { editSyncUpStore in","      NavigationStack {","        SyncUpFormView(store: editSyncUpStore)","          .navigationTitle(store.syncUp.title)","          .toolbar {","            ToolbarItem(placement: .cancellationAction) {","              Button(\"Cancel\") {","                store.send(.cancelEditButtonTapped)","              }","            }","            ToolbarItem(placement: .confirmationAction) {","              Button(\"Done\") {","                store.send(.doneEditingButtonTapped)","              }","            }","          }","      }","    }","  }","}","","#Preview {","  NavigationStack {","    SyncUpDetailView(","      store: Store(","        initialState: SyncUpDetail.State(","          syncUp: Shared(.mock)","        )","      ) {","        SyncUpDetail()","      }","    )","  }","}"],"fileType":"swift"},"EditingAndDeletingSyncUp-01-code-0001.swift":{"type":"file","fileType":"swift","syntax":"swift","fileName":"SyncUpDetail.swift","identifier":"EditingAndDeletingSyncUp-01-code-0001.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case deleteButtonTapped","    case editButtonTapped","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .deleteButtonTapped:","        return .none","","      case .editButtonTapped:","        return .none","      }","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":8}]},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpDetailNavigation#Creating-the-app-view":{"url":"\/tutorials\/composablearchitecture\/syncupdetailnavigation#Creating-the-app-view","abstract":[{"type":"text","text":"We will wrap the application built so far in a "},{"type":"codeVoice","code":"NavigationStack"},{"type":"text","text":" so that we can navigate to"},{"text":" ","type":"text"},{"text":"the detail screen. To do this we will create a new root-level feature that will be responsible","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"for implementing the logic of the stack and integrating all of the features together."}],"role":"pseudoSymbol","title":"Creating the app view","type":"section","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetailNavigation#Creating-the-app-view","kind":"section"},"doc://ComposableArchitecture/documentation/ComposableArchitecture/Shared":{"abstract":[{"type":"text","text":"A property wrapper type that shares a value with multiple parts of an application."}],"title":"Shared","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Shared","url":"\/documentation\/composablearchitecture\/shared","role":"symbol","kind":"symbol","navigatorTitle":[{"text":"Shared","kind":"identifier"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Shared"}],"type":"topic"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/EditingAndDeletingSyncUp":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/EditingAndDeletingSyncUp","type":"topic","kind":"project","url":"\/tutorials\/composablearchitecture\/editinganddeletingsyncup","estimatedTime":"30min","abstract":[{"type":"text","text":"Let’s implement two major pieces of functionality in the detail screen: editing the sync-up and"},{"text":" ","type":"text"},{"text":"deleting the sync-up. This will force us to face a number of common problems in app development","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"all at once, including view reuse, navigation, alerts, and parent-child communication patterns."}],"title":"Editing and deleting a sync-up","role":"project"},"EditingAndDeletingSyncUp-01-cover-480p.mov":{"variants":[{"url":"\/videos\/ComposableArchitecture\/EditingAndDeletingSyncUp-01-cover-480p.mov","traits":["1x","light"]}],"poster":null,"identifier":"EditingAndDeletingSyncUp-01-cover-480p.mov","alt":null,"type":"video"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/PersistingSyncUps":{"kind":"project","title":"Persisting sync-ups","estimatedTime":"5min","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/PersistingSyncUps","abstract":[{"type":"text","text":"Now that we have the ability to add and remove sync-ups from the application, let’s add some"},{"type":"text","text":" "},{"text":"persistence. This will involve using the “shared state” tools from the library, such as","type":"text"},{"type":"text","text":" "},{"identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/Shared","overridingTitle":"@Shared","isActive":true,"type":"reference","overridingTitleInlineContent":[{"type":"codeVoice","code":"@Shared"}]},{"text":" and ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/ComposableArchitecture\/documentation\/ComposableArchitecture\/PersistenceReaderKey\/fileStorage(_:decoder:encoder:)"},{"type":"text","text":"."}],"url":"\/tutorials\/composablearchitecture\/persistingsyncups","role":"project","type":"topic"},"EditingAndDeletingSyncUp-02-code-0010.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var alert: AlertState<Action.Alert>?","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert(.presented(.confirmButtonTapped)):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","","      case .alert(.dismiss):","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":30},{"line":31}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-02-code-0010.swift"},"doc://ComposableArchitecture/tutorials/ComposableArchitecture/SyncUpDetailNavigation#Creating-the-app-feature":{"identifier":"doc:\/\/ComposableArchitecture\/tutorials\/ComposableArchitecture\/SyncUpDetailNavigation#Creating-the-app-feature","type":"section","kind":"section","url":"\/tutorials\/composablearchitecture\/syncupdetailnavigation#Creating-the-app-feature","abstract":[{"type":"text","text":"We will wrap the application built so far in a "},{"code":"NavigationStack","type":"codeVoice"},{"type":"text","text":" so that we can navigate to"},{"text":" ","type":"text"},{"text":"the detail screen. To do this we will create a new root-level feature that will be responsible","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"for implementing the logic of the stack and integrating all of the features together."}],"title":"Creating the app feature","role":"pseudoSymbol"},"doc://ComposableArchitecture/tutorials/BuildingSyncUps/Persisting-sync-ups-to-disk":{"url":"\/tutorials\/buildingsyncups\/persisting-sync-ups-to-disk","abstract":[],"role":"article","title":"Persisting sync-ups to disk","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/Persisting-sync-ups-to-disk","kind":"article"},"EditingAndDeletingSyncUp-01-code-0011.swift":{"type":"file","highlights":[{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0011.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .deleteButtonTapped:","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"},"EditingAndDeletingSyncUp-03-code-0003.swift":{"syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @Reducer","  enum Destination {","    case alert(AlertState<Alert>)","    case edit(SyncUpForm)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @ObservableState","  struct State: Equatable {","    \/\/ @Presents var alert: AlertState<Action.Alert>?","    \/\/ @Presents var editSyncUp: SyncUpForm.State?","    @Presents var destination: Destination.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case alert(PresentationAction<Alert>)","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","    @CasePathable","    enum Alert {","      case confirmButtonTapped","    }","  }","","  @Dependency(\\.dismiss) var dismiss","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .alert(.presented(.confirmButtonTapped)):","        @Shared(.fileStorage(.syncUps)) var syncUps: IdentifiedArrayOf<SyncUp> = []","        syncUps.remove(id: state.syncUp.id)","        return .run { _ in await dismiss() }","","      case .alert(.dismiss):","        return .none","","      case .cancelEditButtonTapped:","        state.editSyncUp = nil","        return .none","","      case .delegate:","        return .none","","      case .deleteButtonTapped:","        state.alert = .deleteSyncUp","        return .none","","      case .doneEditingButtonTapped:","        guard let editedSyncUp = state.editSyncUp?.syncUp","        else { return .none }","        state.syncUp = editedSyncUp","        state.editSyncUp = nil","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","    .ifLet(\\.$alert, action: \\.alert) ","  }","}","extension SyncUpDetail.Destination.State: Equatable {}","","extension AlertState where Action == SyncUpDetail.Action.Alert {","  static let deleteSyncUp = Self {","    TextState(\"Delete?\")","  } actions: {","    ButtonState(role: .destructive, action: .confirmButtonTapped) {","      TextState(\"Yes\")","    }","    ButtonState(role: .cancel) {","      TextState(\"Nevermind\")","    }","  } message: {","    TextState(\"Are you sure you want to delete this meeting?\")","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"highlights":[{"line":18},{"line":19},{"line":20}],"type":"file","fileName":"SyncUpDetail.swift","fileType":"swift","identifier":"EditingAndDeletingSyncUp-03-code-0003.swift"},"doc://ComposableArchitecture/tutorials/BuildingSyncUps/New-sync-up-form":{"abstract":[],"title":"New sync-up form","type":"topic","identifier":"doc:\/\/ComposableArchitecture\/tutorials\/BuildingSyncUps\/New-sync-up-form","url":"\/tutorials\/buildingsyncups\/new-sync-up-form","kind":"article","role":"article"},"EditingAndDeletingSyncUp-01-code-0009.swift":{"type":"file","highlights":[{"line":13},{"line":15}],"syntax":"swift","identifier":"EditingAndDeletingSyncUp-01-code-0009.swift","fileName":"SyncUpDetail.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct SyncUpDetail {","  @ObservableState","  struct State: Equatable {","    @Presents var editSyncUp: SyncUpForm.State?","    @Shared var syncUp: SyncUp","  }","","  enum Action {","    case cancelEditButtonTapped","    case deleteButtonTapped","    case doneEditingButtonTapped","    case editButtonTapped","    case editSyncUp(PresentationAction<SyncUpForm.Action>)","  }","","  var body: some ReducerOf<Self> {","    Reduce { state, action in","      switch action {","      case .deleteButtonTapped:","        return .none","","      case .editButtonTapped:","        state.editSyncUp = SyncUpForm.State(syncUp: state.syncUp)","        return .none","","      case .editSyncUp:","        return .none","      }","    }","    .ifLet(\\.$editSyncUp, action: \\.editSyncUp) {","      SyncUpForm()","    }","  }","}","","struct SyncUpDetailView: View {","  \/\/ ...","}"],"fileType":"swift"}}}